<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>46 Git と Github を使ったバージョン管理と共同作業 | 疫学のための R ハンドブック</title>
<meta name="author" content="the handbook team">
<meta name="description" content="この章では、Git を使った共同作業の概要を説明します。より詳細なチュートリアルは、下部にある「リソース」セクションでご覧いただけます。  46.1 Git とはなにか？ Git は、フォルダ内の変更を追跡することができるバージョン管理ソフトウェアです。Word や LibreOffice、Google Docs...">
<meta name="generator" content="bookdown 0.29 with bs4_book()">
<meta property="og:title" content="46 Git と Github を使ったバージョン管理と共同作業 | 疫学のための R ハンドブック">
<meta property="og:type" content="book">
<meta property="og:description" content="この章では、Git を使った共同作業の概要を説明します。より詳細なチュートリアルは、下部にある「リソース」セクションでご覧いただけます。  46.1 Git とはなにか？ Git は、フォルダ内の変更を追跡することができるバージョン管理ソフトウェアです。Word や LibreOffice、Google Docs...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="46 Git と Github を使ったバージョン管理と共同作業 | 疫学のための R ハンドブック">
<meta name="twitter:description" content="この章では、Git を使った共同作業の概要を説明します。より詳細なチュートリアルは、下部にある「リソース」セクションでご覧いただけます。  46.1 Git とはなにか？ Git は、フォルダ内の変更を追跡することができるバージョン管理ソフトウェアです。Word や LibreOffice、Google Docs...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.25/datatables.js"></script><link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/tabwid-1.1.0/tabwid.css" rel="stylesheet">
<link href="libs/tabwid-1.1.0/scrool.css" rel="stylesheet">
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script><script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.9/grViz.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script><link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="libs/plotly-basic-2.5.1/plotly-basic-2.5.1.min.js"></script><script src="libs/plotly-cartesian-2.5.1/plotly-cartesian-2.5.1.min.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-9.3.1/highcharts.js"></script><script src="libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="libs/highcharts-9.3.1/highcharts-more.js"></script><script src="libs/highcharts-9.3.1/modules/stock.js"></script><script src="libs/highcharts-9.3.1/modules/map.js"></script><script src="libs/highcharts-9.3.1/modules/data.js"></script><script src="libs/highcharts-9.3.1/modules/exporting.js"></script><script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="libs/highcharts-9.3.1/modules/item-series.js"></script><script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-9.3.1/modules/annotations.js"></script><script src="libs/highcharts-9.3.1/modules/export-data.js"></script><script src="libs/highcharts-9.3.1/modules/funnel.js"></script><script src="libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="libs/highcharts-9.3.1/modules/treemap.js"></script><script src="libs/highcharts-9.3.1/modules/sankey.js"></script><script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="libs/highcharts-9.3.1/modules/organization.js"></script><script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="libs/highcharts-9.3.1/modules/vector.js"></script><script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="libs/highcharts-9.3.1/modules/xrange.js"></script><script src="libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="libs/highcharts-9.3.1/modules/venn.js"></script><script src="libs/highcharts-9.3.1/modules/gantt.js"></script><script src="libs/highcharts-9.3.1/modules/timeline.js"></script><script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="libs/highcharts-9.3.1/modules/bullet.js"></script><script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="libs/highcharts-9.3.1/modules/series-label.js"></script><script src="libs/highcharts-9.3.1/plugins/motion.js"></script><script src="libs/highcharts-9.3.1/custom/reset.js"></script><script src="libs/highcharts-9.3.1/modules/boost.js"></script><script src="libs/highchart-binding-0.9.4/highchart.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QXDW878QLX');
    </script><script type="text/javascript">
        // window.addEventListener("load", function() {
        //     document.getElementById('toc').firstChild.innerHTML = "章目次"; 
        // });
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementsByClassName("d-flex align-items-start justify-content-between")[0].children[0].children[0].innerHTML = "疫学のための R</br>ハンドブック";
            document.getElementById('toc').firstChild.innerHTML = "章目次"; 
            document.getElementById('main-nav').children[1].firstChild.innerHTML = "総目次";
            document.getElementById('search').setAttribute("placeholder", "検索");
        });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">疫学のための R ハンドブック</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">本書について</li>
<li><a class="" href="editorial-style.html"><span class="header-section-number">1</span> 編集前記・技術注記</a></li>
<li><a class="" href="data-used.html"><span class="header-section-number">2</span> ハンドブックとデータのダウンロード</a></li>
<li class="book-part">基本編</li>
<li><a class="" href="basics.html"><span class="header-section-number">3</span> R の基礎</a></li>
<li><a class="" href="transition-to-R.html"><span class="header-section-number">4</span> Excel・Stata・SASとの比較</a></li>
<li><a class="" href="packages-suggested.html"><span class="header-section-number">5</span> 推奨パッケージ</a></li>
<li><a class="" href="r-projects.html"><span class="header-section-number">6</span> R プロジェクト</a></li>
<li><a class="" href="importing.html"><span class="header-section-number">7</span> データのインポート・エクスポート</a></li>
<li class="book-part">データマネジメント</li>
<li><a class="" href="cleaning.html"><span class="header-section-number">8</span> データクリーニングと主要関数</a></li>
<li><a class="" href="dates.html"><span class="header-section-number">9</span> 日付型データ</a></li>
<li><a class="" href="characters-strings.html"><span class="header-section-number">10</span> 文字型・文字列型データ</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">11</span> 因子（ファクタ）型データ</a></li>
<li><a class="" href="pivoting.html"><span class="header-section-number">12</span> データの縦横変換</a></li>
<li><a class="" href="grouping.html"><span class="header-section-number">13</span> データのグループ化</a></li>
<li><a class="" href="joining-matching.html"><span class="header-section-number">14</span> データの結合</a></li>
<li><a class="" href="deduplication.html"><span class="header-section-number">15</span> 重複データの排除</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">16</span> ループと反復処理・リストの操作</a></li>
<li class="book-part">データ分析</li>
<li><a class="" href="tables-descriptive.html"><span class="header-section-number">17</span> 記述統計表の作り方</a></li>
<li><a class="" href="stat-tests.html"><span class="header-section-number">18</span> 基本的な統計的検定</a></li>
<li><a class="" href="regression.html"><span class="header-section-number">19</span> 単変量と多変量回帰</a></li>
<li><a class="" href="missing-data.html"><span class="header-section-number">20</span> データの欠損</a></li>
<li><a class="" href="standardization.html"><span class="header-section-number">21</span> 標準化率</a></li>
<li><a class="" href="moving-average.html"><span class="header-section-number">22</span> 移動平均</a></li>
<li><a class="" href="time-series.html"><span class="header-section-number">23</span> 時系列分析とアウトブレイクの検出</a></li>
<li><a class="" href="epidemic-models.html"><span class="header-section-number">24</span> エピデミックモデリング</a></li>
<li><a class="" href="contact-tracing.html"><span class="header-section-number">25</span> 接触者の追跡</a></li>
<li><a class="" href="survey-analysis.html"><span class="header-section-number">26</span> 標本調査データ分析</a></li>
<li><a class="" href="survival-analysis.html"><span class="header-section-number">27</span> 生存時間解析</a></li>
<li><a class="" href="gis.html"><span class="header-section-number">28</span> GIS の基本</a></li>
<li class="book-part">データの可視化</li>
<li><a class="" href="tables-presentation.html"><span class="header-section-number">29</span> 見やすい表の作り方</a></li>
<li><a class="" href="ggplot-basics.html"><span class="header-section-number">30</span> ggplot の基本</a></li>
<li><a class="" href="ggplot-tips.html"><span class="header-section-number">31</span> ggplotのヒント</a></li>
<li><a class="" href="epicurves.html"><span class="header-section-number">32</span> 流行曲線（エピカーブ）</a></li>
<li><a class="" href="age-pyramid.html"><span class="header-section-number">33</span> 人口ピラミッドとリッカート尺度</a></li>
<li><a class="" href="heatmaps.html"><span class="header-section-number">34</span> ヒートマップ</a></li>
<li><a class="" href="diagrams.html"><span class="header-section-number">35</span> フローチャート・サンキー図・タイムライン</a></li>
<li><a class="" href="combination-analysis.html"><span class="header-section-number">36</span> 複数回答データの分析</a></li>
<li><a class="" href="transmission-chains.html"><span class="header-section-number">37</span> 感染連鎖</a></li>
<li><a class="" href="phylogenetic-trees.html"><span class="header-section-number">38</span> 系統樹</a></li>
<li><a class="" href="interactive-plots.html"><span class="header-section-number">39</span> 動的な図の作成</a></li>
<li class="book-part">レポートとダッシュボード</li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">40</span> R Markdown で作るレポート</a></li>
<li><a class="" href="reportfactory.html"><span class="header-section-number">41</span> ルーチンで作成するレポートの整理</a></li>
<li><a class="" href="flexdashboard.html"><span class="header-section-number">42</span> R Markdownで作るダッシュボード</a></li>
<li><a class="" href="shiny-basics.html"><span class="header-section-number">43</span> Shiny で作るダッシュボード</a></li>
<li class="book-part">その他</li>
<li><a class="" href="writing-functions.html"><span class="header-section-number">44</span> 関数の作成</a></li>
<li><a class="" href="directories.html"><span class="header-section-number">45</span> ディレクトリの操作</a></li>
<li><a class="active" href="collaboration.html"><span class="header-section-number">46</span> Git と Github を使ったバージョン管理と共同作業</a></li>
<li><a class="" href="errors.html"><span class="header-section-number">47</span> よくあるエラー</a></li>
<li><a class="" href="help.html"><span class="header-section-number">48</span> ヘルプ</a></li>
<li><a class="" href="network-drives.html"><span class="header-section-number">49</span> ネットワークドライブで R を使用する場合</a></li>
<li><a class="" href="data-table.html"><span class="header-section-number">50</span> data.table パッケージを使用したデータ処理</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="collaboration" class="section level1" number="46">
<h1>
<span class="header-section-number">46</span> Git と Github を使ったバージョン管理と共同作業<a class="anchor" aria-label="anchor" href="#collaboration"><i class="fas fa-link"></i></a>
</h1>
<p>この章では、Git を使った共同作業の概要を説明します。より詳細なチュートリアルは、下部にある「リソース」セクションでご覧いただけます。</p>
<div id="git-とはなにか" class="section level2" number="46.1">
<h2>
<span class="header-section-number">46.1</span> Git とはなにか？<a class="anchor" aria-label="anchor" href="#git-%E3%81%A8%E3%81%AF%E3%81%AA%E3%81%AB%E3%81%8B"><i class="fas fa-link"></i></a>
</h2>
<p>Git は、フォルダ内の変更を追跡することができる<strong>バージョン管理</strong>ソフトウェアです。Word や LibreOffice、Google Docs の「変更履歴」オプションのように、あらゆる種類のファイルに対して使用することができます。これは、バージョン管理のための最も強力で最も使用されるオプションの 1 つです。</p>
<p><strong>なぜ聞いたことがないのか？</strong> ー ソフトウェア開発の経験がある人は日常的にバージョン管理ソフト（Git、Mercurial、Subversion など）の使い方を学んでいますが、データ分析分野の人はあまりバージョン管理スキルを教わっていません。そのため、疫学者のほとんどは学生時代にバージョン管理ソフトの存在を知らず、仕事する中で学ばなければなりません。</p>
<p><strong>待って、Github って聞いたことあるけど、同じなの？</strong> ー 正確には違いますが、よく一緒に使うことがありますので、その方法をご紹介します。簡単に言いますと</p>
<ul>
<li><p><strong>Git</strong> はバージョン管理システムで、ソフトウェアの一つです。あなたのコンピュータ上でローカルに使用することもできますし、あるフォルダをホスト<strong>サイト</strong>と同期させることもできます。デフォルトでは、ターミナルを使って Git にコマンドラインで指示を与えます。</p></li>
<li><p><strong>Git クライアント /GUI</strong> を使えば、コマンドラインを使わずに、（少なくとも単純で超一般的なものについては）同じ動作を行うことができます。</p></li>
<li><p>フォルダを<strong>ホストサイト</strong>に保存して他の人と共同作業をしたい場合は、Github、Gitlab、Bitbucket などにアカウントを作成してください。</p></li>
</ul>
<p>そこで、クライアント / GUI である <strong>Github Desktop</strong> を使用すると、バックグラウンドで <strong>Git</strong> を使用して、自分のコンピュータのローカルファイルと <strong>Github</strong> サーバーのリモートファイルの両方を管理することができます。</p>
</div>
<div id="なぜ-git-と-github-を組み合わせて使うの" class="section level2" number="46.2">
<h2>
<span class="header-section-number">46.2</span> なぜ Git と Github を組み合わせて使うの？<a class="anchor" aria-label="anchor" href="#%E3%81%AA%E3%81%9C-git-%E3%81%A8-github-%E3%82%92%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%81%A6%E4%BD%BF%E3%81%86%E3%81%AE"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Git</strong> を使うことで、以下のようなことが期待されます。</p>
<ol style="list-style-type: decimal">
<li>文書化されたバージョンを増分の変更とともにアーカイブし、以前の状態に簡単に戻すことができます。</li>
<li>並行してブランチを持つこと、つまり、レビュー後に変更を統合するための構造化された方法で開発版/「動く」版を持つこと。</li>
</ol>
<p>これは、他の人と共同作業をしなくても、自分のコンピュータでローカルに行うことができます。今までに</p>
<ul>
<li><p>コードの一部分を削除してしまって 2 ヶ月後には実際に必要だったことに気づいて後悔したり</p></li>
<li><p>一時停止していたプロジェクトに戻ってきて、あるモデルにトリッキーな修正をしたかどうかを思い出そうとしたり</p></li>
<li><p><u>model_1.R</u> というファイルと、<u>model_1_test.R</u> というファイルと、<u>model_1_not_working.R</u> というファイルを用意して、いろいろ試してみたり</p></li>
<li><p>ファイル <u>report.Rmd</u>、ファイル <u>report_full.Rmd</u>、ファイル <u>report_true_final.Rmd</u>、ファイル <u>report_final_20210304.Rmd</u>、ファイル <u>report_final_20210402.Rmd</u> があり、自分のデータ保管技術を呪っていたのですね。</p></li>
</ul>
<p>Git は上記の手助けをしてくれるので、それだけでも学ぶ価値があります。</p>
<p>しかし、Github のようなオンラインリポジトリと併用することで、<strong>共同プロジェクト</strong>をサポートすることができ、さらに強力になります。これにより、以下の点が促進されます。</p>
<ul>
<li><p>共同作業：他の人がレビュー、コメント、変更の承認/却下が可能</p></li>
<li><p>コード、データ、アウトプットを共有し、一般から（またはチーム内で）フィードバックを募る</p></li>
</ul>
<p>また、以下のことは避けることができます。</p>
<ul>
<li><p>「おっと、前回のバージョンを送るのを忘れていたので、2 日分の作業をこの新しいファイルでやり直さなければならない」</p></li>
<li><p>Mina、Henry、Oumar の 3 人が 1 つのスクリプトで同時に作業を行い、それぞれの変更を手動でマージする必要があります。</p></li>
<li><p>2 人の人が Dropbox と Sharepoint で同じファイルを変更しようとすると、同期エラーが発生します。</p></li>
</ul>
<div id="複雑なようですね私はプログラマーではありませんが" class="section level3 unnumbered">
<h3>複雑なようですね、私はプログラマーではありませんが、、、<a class="anchor" aria-label="anchor" href="#%E8%A4%87%E9%9B%91%E3%81%AA%E3%82%88%E3%81%86%E3%81%A7%E3%81%99%E3%81%AD%E7%A7%81%E3%81%AF%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9E%E3%83%BC%E3%81%A7%E3%81%AF%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8C"><i class="fas fa-link"></i></a>
</h3>
<p>確かに複雑なときもあります。高度な使い方の例は、とても怯んでしまいます。しかし、R や Excel のように、エキスパートにならなくてもツールのメリットを享受することができます。<u>ちょっとした関数や概念</u>を学ぶだけで、変更点の追跡、オンラインリポジトリ上でのファイルの同期、同僚との共同作業などが、ごく短時間でできるようになります。</p>
<p>学習曲線を考えると、緊急時の状況でこれらのツールを学ぶのに最適なタイミングではないかもしれません。しかし、学習は段階的に行うことができます。いくつかの概念を身につければ、ワークフローは非常に効率的かつ迅速になります。Git を使った共同作業が必要なプロジェクトに携わっていないのであれば、共同作業で Git を使う前に、<strong>1 人で Git を使うことでツールの利用に自信を持つことができる</strong>でしょう。</p>
</div>
</div>
<div id="環境構築" class="section level2" number="46.3">
<h2>
<span class="header-section-number">46.3</span> 環境構築<a class="anchor" aria-label="anchor" href="#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89"><i class="fas fa-link"></i></a>
</h2>
<div id="git-をインストール" class="section level3 unnumbered">
<h3>Git をインストール<a class="anchor" aria-label="anchor" href="#git-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fas fa-link"></i></a>
</h3>
<p><u>Git</u> とは、コンピュータの舞台裏にあるエンジンのことで、変更、ブランチ（バージョン）、マージ、リバートを追跡することができます。<strong>まず、<a href="https://git-scm.com/downloads" class="uri">https://git-scm.com/downloads</a>から <u>Git</u> をインストールする必要があります。</strong></p>
</div>
<div id="gui-をインストール-必須ではないが推奨" class="section level3 unnumbered">
<h3>GUI をインストール (必須ではないが推奨)<a class="anchor" aria-label="anchor" href="#gui-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB-%E5%BF%85%E9%A0%88%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%E3%81%8C%E6%8E%A8%E5%A5%A8"><i class="fas fa-link"></i></a>
</h3>
<p>Git には独自のコマンド言語があり、コマンドライン・ターミナルに入力することができます。しかし、多くのクライアントソフトや GUI があり、開発者ではない人が日常的に Git と直接やりとりする必要はほとんどないでしょうし、GUI は通常、ファイルの変更やブランチを視覚化するツールを提供します。</p>
<p>初心者向けのものから複雑なものまで、あらゆる OS で多くの選択肢が存在します。 初心者向けの GUI としては、この章で紹介する RStudio の Git ペインや <a href="https://desktop.github.com/">Github Desktop</a> などがあります。中級者向け（より強力だがより複雑）のオプションとしては、Sourcetree、Gitkracken、Smart Git などがあります。</p>
<p><a href="https:/happygitwithr.com/git-client.html#git-client">Git clients</a> の簡単な解説</p>
<p><u>注釈：実際にはすべての GUI が内部的に Git を使用しているので、複数の GUI を試してみたり、特定のプロジェクトで GUI を切り替えたり、 GUI がサポートしていないアクションのために時間的にコンソールを使用したり、あるいは Github 上でオンラインでさまざまなアクションを実行したりすることができます。</u></p>
<p>後述するように、RStudio の Terminal ペイン（R コンソールの隣にあるタブ）や Git Bash ターミナルなどのターミナルに Git コマンドを書き込まなければならないこともあります。</p>
</div>
<div id="github-アカウント" class="section level3 unnumbered">
<h3>Github アカウント<a class="anchor" aria-label="anchor" href="#github-%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88"><i class="fas fa-link"></i></a>
</h3>
<p><a href="github.com">github.com</a> で無料のアカウントを登録します。</p>
<p>携帯電話のアプリで 2 要素認証を設定するように表示されることがあります。詳しくは、Github の <a href="https://docs.github.com/en/github/authenticating-to-github/securing-your-account-with-two-factor-authentication-2fa">ヘルプドキュメント</a> をご覧ください。</p>
<p>Github Desktop を使用している場合は、インストール後に以下の <a href="https://docs.github.com/en/desktop/installing-and-configuring-github-desktop/authenticating-to-github">手順</a> に従って Gitub の認証情報を入力することができます。認証情報を登録しておかないと、後で Github からプロジェクトをクローンしようとしたときに認証情報を求められます。</p>
</div>
</div>
<div id="用語と概念と基本機能" class="section level2" number="46.4">
<h2>
<span class="header-section-number">46.4</span> 用語と概念と基本機能<a class="anchor" aria-label="anchor" href="#%E7%94%A8%E8%AA%9E%E3%81%A8%E6%A6%82%E5%BF%B5%E3%81%A8%E5%9F%BA%E6%9C%AC%E6%A9%9F%E8%83%BD"><i class="fas fa-link"></i></a>
</h2>
<p>R を学ぶときのように、Git を理解するためにはかなりの量の用語を覚えなければなりません。
ここでは、<a href="https://www.freecodecamp.org/news/an-introduction-to-git-for-absolute-beginners-86fa1d32ff71/">Basics to get you going</a> / <a href="learnngitbranching.js.org">interactive tutorial</a>を参照してください。
次のセクションでは、GUI の使い方を紹介しますが、前提概念を理解するためにも、GUI を使うときにも必要になるので、このセクションで用語や概念を覚えておくといいでしょう。</p>
<div id="リポジトリ" class="section level3 unnumbered">
<h3>リポジトリ<a class="anchor" aria-label="anchor" href="#%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA"><i class="fas fa-link"></i></a>
</h3>
<p>Git の<u>リポジトリ</u>（<u>repo</u>）とは、プロジェクトのすべてのサブフォルダーやファイル（データ、コード、画像など）とそれらの変更履歴を含むフォルダーのことです。リポジトリの変更を追跡するようになると、Git はすべての追跡情報を含む隠しフォルダを作成します。典型的な Git リポジトリは、<u>R プロジェクト</u>フォルダーです（ハンドブックの <a href="r-projects.html#r-projects">R プロジェクトの設定</a> の章を参照）。</p>
<p>次のセクションでは、Github、Github Desktop、または RStudio からGit リポジトリを作成（<u>inittialize</u>）する方法を紹介します。</p>
</div>
<div id="コミット" class="section level3 unnumbered">
<h3>コミット<a class="anchor" aria-label="anchor" href="#%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88"><i class="fas fa-link"></i></a>
</h3>
<p><u>コミット（commit）</u>とは、ある時点でのプロジェクトの<strong>スナップショット</strong>です。プロジェクトに変更を加えた場合、ファイルに加えられた変更（差分）を追跡するために、新しいコミットを作成します。例えば、何行かのコードを編集し、関連するデータセットを更新したとします。変更が保存されると、これらの変更を 1 つの「コミット」に束ねることができます。</p>
<p>各コミットには固有の ID（<u>ハッシュ</u>）があります。バージョンコントロールの目的では、コミットに基づいてプロジェクトを過去に戻すことができるので、比較的小さくまとまったものにしておくとよいでしょう。また、「コミット・メッセージ」と呼ばれる変更内容の簡単な説明を添付します。</p>
<p><u>ステージされた変更</u>とは？変更をステージするとは、次のコミットに備えて、変更を<u>ステージ・エリア</u>に追加することです。これは、あるコミットにどの変更を含めるかをきめ細かく決められるということです。例えば、あるスクリプトでモデルの仕様を作成し、その後別のスクリプトで図を作成した場合、2 つの異なるコミットを作成することは理にかなっています（モデルではなく図の変更を戻したい場合に簡単にできます）。</p>
</div>
<div id="ブランチ" class="section level3 unnumbered">
<h3>ブランチ<a class="anchor" aria-label="anchor" href="#%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81"><i class="fas fa-link"></i></a>
</h3>
<p>ブランチは、リポジトリ内の変更点の中でも<u>独立したライン</u>として表され、プロジェクトファイルの並行した別バージョンを意味します。</p>
<p>ブランチは、変更内容を <u>main</u> ブランチに反映させる前にテストするのに便利です。<u>main</u> ブランチは、通常、プロジェクトの主要/最終/ライブバージョンです。ブランチでの実験が終わったら、その変更を <u>main</u> ブランチに<u>マージ</u>して取り込むことができますし、変更がうまくいかなかった場合はブランチを削除することもできます。</p>
<p><u>注：ブランチを使う際に他の人と共同作業をする必要はありませんし、リモートのオンラインリポジトリがある必要もありません。</u></p>
</div>
<div id="ローカルとリモートのリポジトリ" class="section level3 unnumbered">
<h3>ローカルとリモートのリポジトリ<a class="anchor" aria-label="anchor" href="#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A8%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%81%AE%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA"><i class="fas fa-link"></i></a>
</h3>
<p><u>クローン</u>とは、Git リポジトリのコピーを別の場所に作成することです。</p>
<p>例えば、Github <u>から</u>オンラインリポジトリをパソコンに<u>クローン</u>したり、ローカルリポジトリから始めてオンラインで Github <u>に</u> クローンすることができます。</p>
<p>リポジトリをクローンすると、プロジェクトファイルは 2 つの場所に存在することになります。</p>
<ul>
<li><p>あなたの物理的なコンピュータ上の <u>ローカル</u> リポジトリ。ここで、ファイルやコードに実際の変更を加えます。</p></li>
<li><p><u>リモート</u>、オンラインリポジトリ：Github リポジトリ（またはその他のウェブホスト）にあるプロジェクトファイルのバージョン。</p></li>
</ul>
<p>これらのリポジトリを同期させるためには、より多くの機能を使うことになります。Sharepoint や Dropbox その他の同期ソフトウェアとは異なり、Git は自動的にオンラインのものに基づいてローカルのリポジトリを更新したり、その逆を行ったりしません。いつ、どのように同期させるかは、あなたが決めることです。</p>
<ul>
<li><p><code>git fetch</code> は、リモートリポジトリから新しい変更点をダウンロードしますが、ローカルリポジトリは変更しません。リモートリポジトリの状態をチェックしていると考えてください。</p></li>
<li><p><code>git pull</code> は、リモートリポジトリから新しい変更点をダウンロードして、ローカルリポジトリを更新します。</p></li>
<li><p>ローカルで 1 つまたは複数のコミットを行った後、そのコミットをリモートリポジトリに <code>git push</code> できます。これにより、変更が Github 上に送信され、他の人が変更点を確認したり、必要に応じてプルできます。</p></li>
</ul>
</div>
</div>
<div id="始める-新規リポジトリを作成" class="section level2" number="46.5">
<h2>
<span class="header-section-number">46.5</span> 始める: 新規リポジトリを作成<a class="anchor" aria-label="anchor" href="#%E5%A7%8B%E3%82%81%E3%82%8B-%E6%96%B0%E8%A6%8F%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90"><i class="fas fa-link"></i></a>
</h2>
<p>新規リポジトリを作成する方法はたくさんあります。コンソールからでも、Github からでも、GUI からでも可能です。</p>
<p>2 つの方法があります。</p>
<ul>
<li>既存または新規の Github リポジトリから新規 R プロジェクトを作成する (<u>初心者の方にお勧めです</u>)。または</li>
<li>既存の R プロジェクトに Github リポジトリを作成する。</li>
</ul>
<div id="最初に作成するファイル" class="section level3 unnumbered">
<h3>最初に作成するファイル<a class="anchor" aria-label="anchor" href="#%E6%9C%80%E5%88%9D%E3%81%AB%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB"><i class="fas fa-link"></i></a>
</h3>
<p>新規リポジトリを作成する際に、オプションで以下のファイルをすべて作成することもできますし、後からリポジトリに追加することもできます。これらのファイルは通常、リポジトリの “root” フォルダーに置かれます。</p>
<ul>
<li><p><u>README</u> ファイルとは、あなたのプロジェクトがなぜ存在するのか、そしてそれを使うために何を知っておくべきなのかを理解するために、誰かに読んでもらうためのファイルです。最初は空ですが、後で完成させましょう。</p></li>
<li><p><u>.gitignore</u> ファイルとは、Git が無視すべき (変更を追跡しない) フォルダやファイルを各行に記述したテキストファイルのことです。詳細や例は <a href="https://www.freecodecamp.org/news/gitignore-what-is-it-and-how-to-add-to-repo/">こちら</a> を参照ください。</p></li>
<li><p>自分の作業に対して、<u>ライセンス</u>を選ぶことができます。他の人々は、どのような条件であなたの成果を使用したり複製したりできるかを知ることができます。詳しくは、<a href="https://creativecommons.org/licenses/">Creative Commons licenses</a>をご覧ください。</p></li>
</ul>
</div>
<div id="github-で新規リポジトリを作成する" class="section level3 unnumbered">
<h3>Github で新規リポジトリを作成する<a class="anchor" aria-label="anchor" href="#github-%E3%81%A7%E6%96%B0%E8%A6%8F%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fas fa-link"></i></a>
</h3>
<p>新規リポジトリを作成するには、Github にログインし、新規リポジトリを作成する緑色のボタンを探してください。新規の空リポジトリは、ローカルコンピュータにクローンできます（次のセクションを参照）。</p>
<div class="inline-figure"><img src="images/github_new.png" width="276" style="display: block; margin: auto;"></div>
<p>リポジトリを <strong>public</strong> （インターネット上で誰でも見ることができる）にするか <strong>private</strong> （許可を得た人だけが見ることができる）にするかを選択する必要があります。これは、データが機密である場合に重要な意味を持ちます。リポジトリがプライベートの場合、Github <u>actions</u> を使ってコードをクラウド上で自動的に実行する場合など、高度で特別な状況では、いくらかの課金が発生します。</p>
</div>
<div id="github-リポジトリからのクローン" class="section level3 unnumbered">
<h3>Github リポジトリからのクローン<a class="anchor" aria-label="anchor" href="#github-%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%8B%E3%82%89%E3%81%AE%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%B3"><i class="fas fa-link"></i></a>
</h3>
<p>既存の Github リポジトリを<u>クローン</u>して、コンピュータ上に新規ローカル R プロジェクトを作成することができます。</p>
<p>Github リポジトリは、すでに存在していてコンテンツが含まれているものでも、作成したばかりの空のリポジトリでもよいです。後者の場合、基本的には Github リポジトリとローカル R プロジェクトを同時に作成することになります（上記の説明を参照）。</p>
<p><u>注釈</u>：Github リポジトリのコントリビュート権を持っていない場合は、まずそのリポジトリを自分のプロファイルに <u>フォーク (fork)</u>してから、他の作業を進めることができます。フォークについては本章の最後で説明しますが、まずは他のセクションをお読みになることをお勧めします。</p>
<p>ステップ1： Github でリポジトリに移動し、緑色の “<strong>Code</strong>” ボタンをクリックして、<strong>HTTPS クローン URL</strong> をコピーします（以下の画像を参照）。</p>
<div class="inline-figure"><img src="images/github_clone.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
<p>次のステップは、どのような GUI でも実行できます。ここでは、RStudio と Github デスクトップを例に説明します。</p>
<div id="rstudio-の場合" class="section level4 unnumbered">
<h4>RStudio の場合<a class="anchor" aria-label="anchor" href="#rstudio-%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fas fa-link"></i></a>
</h4>
<p>RStudio で、<u>File &gt; New Project &gt; Version Control &gt; Git</u> をクリックして、新規 R プロジェクトを開始します。</p>
<ul>
<li>“Repository URL” を聞かれたら、Github から HTTPS URL を貼り付けます。</li>
<li>R プロジェクトに短くてわかりやすい名前をつけます。</li>
<li>新規 R プロジェクトをローカルに保存する場所を選択します。</li>
<li>“Open in new session” にチェックを入れ、“Create project” をクリックします。</li>
</ul>
<p>これで、Github リポジトリのクローンである、新規のローカル RStudio プロジェクトが開きました。また、このローカルプロジェクトと Github リポジトリがリンクされました。</p>
</div>
<div id="github-desktop-の場合" class="section level4 unnumbered">
<h4>Github Desktop の場合<a class="anchor" aria-label="anchor" href="#github-desktop-%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>
<u>File &gt; Clone a repository</u> をクリックします。</li>
<li>URL タブを選択します。</li>
<li>最初のボックスに Github からの HTTPS URL をペーストする。</li>
<li>ローカルリポジトリを作成するフォルダを選択する。</li>
<li>“CLONE” をクリックする。</li>
</ul>
<div class="inline-figure"><img src="images/github_clone_desktop.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="既存の-r-プロジェクトからの新規-github-リポジトリの作成" class="section level3 unnumbered">
<h3>既存の R プロジェクトからの新規 Github リポジトリの作成<a class="anchor" aria-label="anchor" href="#%E6%97%A2%E5%AD%98%E3%81%AE-r-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%8B%E3%82%89%E3%81%AE%E6%96%B0%E8%A6%8F-github-%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fas fa-link"></i></a>
</h3>
<p>別の設定方法として、コンテンツを含む既存の R プロジェクトがある場合、ここから Github リポジトリを作成します。</p>
<ol style="list-style-type: decimal">
<li>プロジェクトのために、新規の空 Github リポジトリを作成します（上記の手順を参照）。</li>
<li>このリポジトリをローカルにクローンします（上記の HTTPS の手順を参照）。</li>
<li>既存の R プロジェクトからすべてのコンテンツ（コード、データなど）を、この新規の空ローカルリポジトリにコピーします（例：コピー＆ペーストを使用）。</li>
<li>RStudio で新規プロジェクトを開き、Git ペインに移動します。新規ファイル群はファイルの変更として登録され、Git によって追跡されるようになります。したがって、これらの変更を<u>コミット</u>として束ねて、Github に<u>プッシュ</u>できます。一旦<u>プッシュ</u>すると、Github 上のリポジトリにすべてのファイルが反映されます。</li>
</ol>
<p>このプロセスの詳細については、以下の Github のワークフローのセクションを参照してください。</p>
</div>
<div id="どのように見えますか" class="section level3 unnumbered">
<h3>どのように見えますか？<a class="anchor" aria-label="anchor" href="#%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E8%A6%8B%E3%81%88%E3%81%BE%E3%81%99%E3%81%8B"><i class="fas fa-link"></i></a>
</h3>
<div id="rstudio-の場合-1" class="section level4 unnumbered">
<h4>RStudio の場合<a class="anchor" aria-label="anchor" href="#rstudio-%E3%81%AE%E5%A0%B4%E5%90%88-1"><i class="fas fa-link"></i></a>
</h4>
<p>Github リポジトリを新規 R プロジェクトにクローンすると、RStudio に “Git” タブが表示されます。このタブは、R Environment と同じ RStudio のペインに表示されます。</p>
<div class="inline-figure"><img src="images/Git_console.png" width="75%" height="75%" style="display: block; margin: auto;"></div>
<p>上の画像で丸で囲ったボタンは、後に参照するので注意してください（左から順に）。</p>
<ul>
<li>保存したファイルの変更をローカルブランチに <u>Commit</u> するボタン（新しいウィンドウが開きます）。</li>
<li>青色の矢印で <u>Pull</u> （ローカル版のブランチに、そのブランチのリモート / Github 版で行われた変更を反映させる）</li>
<li>緑の矢印で <u>Push</u> (ローカルバージョンのブランチのコミットや変更を、そのブランチのリモート / Github バージョンに送信)</li>
<li>RStudio の Git タブ</li>
<li>右側に表示されているローカルブランチをベースにして、新しいブランチを作成するためのボタン。<u>ほとんどの場合、main ブランチからブランチを作成します。</u>
</li>
<li>現在作業しているブランチ</li>
<li>コードや他のファイルに加えた変更は、以下のように表示されます。</li>
</ul>
</div>
<div id="github-desktop-の場合-1" class="section level4 unnumbered">
<h4>Github Desktop の場合<a class="anchor" aria-label="anchor" href="#github-desktop-%E3%81%AE%E5%A0%B4%E5%90%88-1"><i class="fas fa-link"></i></a>
</h4>
<p>Github Desktop は、すべてのリポジトリを管理するための独立したアプリケーションです。Github Desktop を開くと、作業したいリポジトリを選択して、そこから Git の基本的な操作を行うことができます。</p>
<div class="inline-figure"><img src="images/github_desktop_interface.png" width="75%" height="75%" style="display: block; margin: auto;"></div>
</div>
</div>
</div>
<div id="git-github-作業の流れ" class="section level2" number="46.6">
<h2>
<span class="header-section-number">46.6</span> Git + Github 作業の流れ<a class="anchor" aria-label="anchor" href="#git-github-%E4%BD%9C%E6%A5%AD%E3%81%AE%E6%B5%81%E3%82%8C"><i class="fas fa-link"></i></a>
</h2>
<div id="流れの概要" class="section level3 unnumbered">
<h3>流れの概要<a class="anchor" aria-label="anchor" href="#%E6%B5%81%E3%82%8C%E3%81%AE%E6%A6%82%E8%A6%81"><i class="fas fa-link"></i></a>
</h3>
<p>上記のセットアップが完了すると、ローカルの R プロジェクトに接続された（<u>クローンされた</u>）Github レポジトリができあがります。(デフォルトで作成される) <u>main</u> ブランチは、いわゆる “live” バージョンで、 <u>すべての</u>ファイルが含まれています。修正を加えたいときには、<u>main</u> ブランチから <u>new branch</u> を作成するのがよいでしょう (“Make a Copy” のように)。
ブランチの作成は簡単で速く、Git の典型的な作業の進め方になります。</p>
<p>典型的な作業の流れは次のとおりです。</p>
<ol style="list-style-type: decimal">
<li><p>ローカルリポジトリが最新であることを確認し、そうでない場合は更新します</p></li>
<li><p>以前作業していたブランチに移動するか、新しいブランチを作成していくつかのことを試してみます</p></li>
<li><p>ローカルコンピュータでファイルを編集し、このブランチに 1 回または数回コミットします</p></li>
<li><p>ブランチのリモートバージョンに対し、あなたの変更で更新します（プッシュ）</p></li>
<li><p>ブランチに満足したら、作業用ブランチのオンライン版をオンラインの “main” ブランチにマージして、変更を移行します</p></li>
</ol>
<p>他のチームメンバーも、各々のブランチで同じことをしているかもしれませんし、あなたと同じ作業ブランチにコミットを追加しているかもしれません。</p>
<p>以下では、上記のプロセスを順を追って詳しく説明します。ここでは、私たちが作成した概略図を紹介します。二元配置の表形式になっているので、疫学業務担当者にも理解しやすいでしょう。</p>
<div class="inline-figure"><img src="images/github_table.png" width="100%" height="150%" style="display: block; margin: auto;"></div>
<p>ここに<a href="https://build5nines.com/introduction-to-git-version-control-workflow/">別の図</a>があります。</p>
<p><u>注釈：最近まで “master” ブランチという言葉が使われていましたが、現在は “main” ブランチと呼ばれています。</u></p>
<div class="inline-figure"><img src="images/GitHub-Flow.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
<p>画像<a href="https://build5nines.com/introduction-to-git-version-control-workflow/">ソース</a></p>
</div>
</div>
<div id="新規ブランチを作成" class="section level2" number="46.7">
<h2>
<span class="header-section-number">46.7</span> 新規ブランチを作成<a class="anchor" aria-label="anchor" href="#%E6%96%B0%E8%A6%8F%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92%E4%BD%9C%E6%88%90"><i class="fas fa-link"></i></a>
</h2>
<p>作業するブランチを選択すると、<strong>Git は作業ディレクトリを、前回、選択したブランチで作業したときの状態にリセットします。</strong></p>
<div id="rstudio-の-git-ペインの場合" class="section level3 unnumbered">
<h3>RStudio の Git ペインの場合<a class="anchor" aria-label="anchor" href="#rstudio-%E3%81%AE-git-%E3%83%9A%E3%82%A4%E3%83%B3%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fas fa-link"></i></a>
</h3>
<p>“main” ブランチにいることを確認し、紫のアイコンをクリックして新しくブランチを作成します（上の画像を参照）。</p>
<ul>
<li>ブランチの名前を、一言で説明できる名前にするよう求められます（必要に応じてアンダースコアを使用できます）。</li>
<li>ローカルでは、同じ R プロジェクトに属していますが、“main” ブランチでの作業ではなくなっていることがわかります。</li>
<li>新規ブランチを作成すると、Github のウェブサイトでもブランチとして表示されるようになります。</li>
</ul>
<p>ブランチは、RStudio の Git ペインで History をクリックすると表示されます。</p>
<div class="inline-figure"><img src="images/github_rstudio_branchs.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
</div>
<div id="github-desktop-の場合-2" class="section level3 unnumbered">
<h3>Github Desktop の場合<a class="anchor" aria-label="anchor" href="#github-desktop-%E3%81%AE%E5%A0%B4%E5%90%88-2"><i class="fas fa-link"></i></a>
</h3>
<p>このプロセスは上記と非常によく似ており、ブランチに名前を付けるよう促されます。その後、“Publish you branch to Github” というプロンプトが表示され、新規ブランチがリモートリポジトリにも表示されるようになります。</p>
<div class="inline-figure"><img src="images/github_desktop_new_branch.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
</div>
<div id="console-の場合" class="section level3 unnumbered">
<h3>Console の場合<a class="anchor" aria-label="anchor" href="#console-%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fas fa-link"></i></a>
</h3>
<p>舞台裏で実際に行われているのは、<code>git branch</code> で新しくブランチを作成し、<code>git checkout</code> でそのブランチに移動することです (つまり、次のコミットがそのブランチで行われることを Git に伝えます)。あなたの git リポジトリで以下のコマンドを実行することと等しいです。</p>
<div class="sourceCode" id="cb1950"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1950-1"><a href="collaboration.html#cb1950-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch my-new-branch  <span class="co"># 新規にブランチを作成</span></span>
<span id="cb1950-2"><a href="collaboration.html#cb1950-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout my-new-branch <span class="co"># 作成したブランチに移動</span></span>
<span id="cb1950-3"><a href="collaboration.html#cb1950-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> my-new-branch <span class="co"># 上の 2 つを同時に行う</span></span></code></pre></div>
<p>Console の使い方については、末尾の Git コマンドの項を参照してください。</p>
</div>
</div>
<div id="変更をコミット" class="section level2" number="46.8">
<h2>
<span class="header-section-number">46.8</span> 変更をコミット<a class="anchor" aria-label="anchor" href="#%E5%A4%89%E6%9B%B4%E3%82%92%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88"><i class="fas fa-link"></i></a>
</h2>
<p>これで、コードの編集や新規ファイルの追加、データセットの更新などができるようになりました。</p>
<p>すべての変更は、それぞれのファイルが保存された時点から追跡されます。変更されたファイルは RStudio の Git タブ、Github Desktop、またはターミナルの <code>git status</code> コマンドで表示されます (下記参照)。</p>
<p>実質的な変更 (コードへセクションの追加や更新など) を行った場合は、必ず一旦作業を停止して、その変更を<u>コミット</u>してください。コミットとは、共通の目的に関連した変更の「カタマリ」と考えてください。変更をコミットした後でも、ファイルの修正を続けることは可能です。</p>
<p><u>コミットに関するアドバイス</u>: 一般的には、問題が発生したときに簡単に元に戻せるような小さなコミットを行い、共通の目的に関連する変更をまとめてコミットするのが良いでしょう。これを実現するためには、<u>頻繁にコミットする</u>ことが必要です。最初のうちは、頻繁にコミットすることを忘れてしまうかもしれませんが、そのうちに習慣になります。</p>
<div id="rstudio-の場合-2" class="section level3 unnumbered">
<h3>RStudio の場合<a class="anchor" aria-label="anchor" href="#rstudio-%E3%81%AE%E5%A0%B4%E5%90%88-2"><i class="fas fa-link"></i></a>
</h3>
<p>以下の例では、前回のコミット以降、R Markdown スクリプト「collaboration.Rmd」が変更され、いくつかの PNG 画像が追加されています。</p>
<div class="inline-figure"><img src="images/github_tracking2.png" width="232" style="display: block; margin: auto;"></div>
<p>ファイル名の横にある黄色、青、緑、赤の四角は何を表しているのか気になりますよね。下記が、<a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">RStudio cheatsheet</a> からのスクリーンショットで、その意味を説明しています。なお、黄色の「？」がついた変更でも、ステージ、コミット、プッシュは可能です。</p>
<div class="inline-figure"><img src="images/github_tracking.png" width="90" style="display: block; margin: auto;"></div>
<ul>
<li><p>Git タブの “Commit” ボタンを押すと、新しいウィンドウが開きます（下図）。</p></li>
<li><p>左上のボックスにあるファイル名をクリックします。</p></li>
<li><p>そのファイルに加えた変更を確認します（以下、緑または赤でハイライトされる）</p></li>
<li><p>ファイルをステージすると、その変更がコミットに反映されます。ファイル名の横にあるボックスにチェックを入れてください。あるいは、複数のファイル名をハイライトしてから “Stage” をクリックすることもできます。</p></li>
<li><p>短くてわかりやすい コミット・メッセージを書く（必須）</p></li>
<li><p>“Commit” ボタンを押します。成功またはエラーメッセージを示すポップアップ・ボックスが表示されます。</p></li>
</ul>
<p>これで、さらに変更を加え、何度でもコミットすることができます。</p>
<div class="inline-figure"><img src="images/github_commit.png" width="100%" height="200%" style="display: block; margin: auto;"></div>
</div>
<div id="github-desktop-の場合-3" class="section level3 unnumbered">
<h3>Github Desktop の場合<a class="anchor" aria-label="anchor" href="#github-desktop-%E3%81%AE%E5%A0%B4%E5%90%88-3"><i class="fas fa-link"></i></a>
</h3>
<p>左側に変更されたファイルのリストが表示されます。テキストファイルを選択すると、右ペインに変更内容の概要が表示されます（この表示は、.docs や .xlsx などの複雑なファイルでは機能しません）。</p>
<p>変更をステージするには、ファイル名の近くにある小さなボックスにチェックを入れます。このコミットに追加したいファイルを選択し、コミットに名前を付け、必要に応じてメッセージを付けて <strong>commit</strong> ボタンをクリックします。</p>
<div class="inline-figure"><img src="images/github_desktop_commit.png" width="988" style="display: block; margin: auto;"></div>
</div>
<div id="console-の場合-1" class="section level3 unnumbered">
<h3>Console の場合<a class="anchor" aria-label="anchor" href="#console-%E3%81%AE%E5%A0%B4%E5%90%88-1"><i class="fas fa-link"></i></a>
</h3>
<p>舞台裏では、ファイルを選択/ステージするための <code>git add</code> と、実際にコミットを行うための <code>git commit</code> という 2 つの機能が使われています。</p>
<div class="sourceCode" id="cb1951"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1951-1"><a href="collaboration.html#cb1951-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status <span class="co"># 変更を見る</span></span>
<span id="cb1951-2"><a href="collaboration.html#cb1951-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1951-3"><a href="collaboration.html#cb1951-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add new_pages/collaboration.Rmd  <span class="co"># コミットするファイルを選択 (= 変更をステージ)</span></span>
<span id="cb1951-4"><a href="collaboration.html#cb1951-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1951-5"><a href="collaboration.html#cb1951-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Github Desktop からコミットについて記述メッセージ"</span> <span class="co"># メッセージをつけて変更をコミット</span></span>
<span id="cb1951-6"><a href="collaboration.html#cb1951-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1951-7"><a href="collaboration.html#cb1951-7" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log  <span class="co"># 過去のコミットの情報を表示</span></span></code></pre></div>
</div>
<div id="過去のコミットを修正" class="section level3 unnumbered">
<h3>過去のコミットを修正<a class="anchor" aria-label="anchor" href="#%E9%81%8E%E5%8E%BB%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%82%92%E4%BF%AE%E6%AD%A3"><i class="fas fa-link"></i></a>
</h3>
<p>ある変更をコミットして作業を続けているうちに、（あなたの考えでは）過去のコミットに「属する」べき変更を行ったことに気付いた場合、どうなるでしょうか。 心配ありません。これらの変更は、前のコミットに追加することができます。</p>
<p>RStudio では、COMMIT ボタンと同じ行に “Amend previous commit” ボックスがあるので、とてもわかりやすいはずです。</p>
<p>理由は不明ですが、Github Desktop ではこの機能は実装されていません。コミットはしたが、まだプッシュはしていない場合、COMMIT ボタンのすぐ下に “UNDO” ボタンが表示されます。このボタンをクリックすると、コミットを元に戻すことができます（ただし、ステージされたファイルと コミット・メッセージは保持されます）。 変更内容を保存し、必要に応じて新規ファイルをコミットに追加し、再度コミットします。</p>
<p>Console では</p>
<div class="sourceCode" id="cb1952"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1952-1"><a href="collaboration.html#cb1952-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add [YOUR FILES] <span class="co"># 変更をステージ</span></span>
<span id="cb1952-2"><a href="collaboration.html#cb1952-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1952-3"><a href="collaboration.html#cb1952-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">--amend</span>  <span class="co"># 以前のコミットを修正</span></span>
<span id="cb1952-4"><a href="collaboration.html#cb1952-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1952-5"><a href="collaboration.html#cb1952-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">--amend</span> <span class="at">-m</span> <span class="st">"コミット・メッセージの更新"</span>  <span class="co"># 以前のコミットを修正「かつ」コミット・メッセージを更新</span></span></code></pre></div>
<p><u>注釈: すでに公開されており他の共同作業者と共有しているコミットを変更する前に、もう一度考えましょう。</u></p>
</div>
</div>
<div id="プルしてから変更を-github-にプッシュ" class="section level2" number="46.9">
<h2>
<span class="header-section-number">46.9</span> プルしてから、変更を Github にプッシュ<a class="anchor" aria-label="anchor" href="#%E3%83%97%E3%83%AB%E3%81%97%E3%81%A6%E3%81%8B%E3%82%89%E5%A4%89%E6%9B%B4%E3%82%92-github-%E3%81%AB%E3%83%97%E3%83%83%E3%82%B7%E3%83%A5"><i class="fas fa-link"></i></a>
</h2>
<p>「まずプルしてからプッシュする」</p>
<p>プロジェクトに取り掛かる前に<u>フェッチ</u>して<u>プル</u>し、ローカルコンピュータ上のブランチバージョンをリモート/Github バージョンで行われた変更に更新するのは良い習慣です。
プルは頻繁に行いましょう。躊躇することはありません。<u>プッシュする前に必ずプルしましょう</u>。</p>
<p>変更が完了してコミットし、プロジェクトの状態に満足したら、コミットした内容をブランチのリモート/Github バージョンに<u>プッシュ</u>します。</p>
<p>リポジトリで作業している間は、この作業を繰り返します。</p>
<p><strong>注釈:</strong> リモートリポジトリにプッシュされた変更(そしておそらく他の人が既にプルした変更)を元に戻すよりも、コミットされたがプッシュされていない（つまりローカルに残っている）変更を元に戻す方がはるかに簡単なので、作業していたタスクの変更が終わった後でプッシュすると良いでしょう。</p>
<div id="rstudio-の場合-3" class="section level4 unnumbered">
<h4>RStudio の場合<a class="anchor" aria-label="anchor" href="#rstudio-%E3%81%AE%E5%A0%B4%E5%90%88-3"><i class="fas fa-link"></i></a>
</h4>
<p><u>PULL</u> - まず、フェッチとプルを同時に行う “Pull” アイコン（下向き矢印）をクリックします。</p>
<p><u>PUSH</u> - 緑色の “Push” アイコン（上向き矢印）をクリックします。Github のユーザー名とパスワードの入力を求められることがあります。最初に尋ねられたときには、2 つの Git コマンドラインを <u>Terminal</u> に入力する必要があるかもしれません。</p>
<ul>
<li><p><strong>git config –global user.email
“<a href="mailto:you@example.com" class="email">you@example.com</a>”</strong> （Github アカウントのメールアドレス）を設定</p></li>
<li><p><strong>git config –global user.name “Github ユーザー名”</strong></p></li>
</ul>
<p>これらのコマンドの入力方法については、以下の Git コマンドのセクションを参照してください。</p>
<p><u><strong>ヒント：</strong></u> パスワードの入力を頻繁に求められますか？SSH キーを使ってリポジトリに接続するには、この<a href="https://happygitwithr.com/credential-caching.html#credential-caching">チュートリアル</a>の 10 章と 11 章を参照してください（より複雑です）</p>
</div>
<div id="github-desktop-の場合-4" class="section level4 unnumbered">
<h4>Github Desktop の場合<a class="anchor" aria-label="anchor" href="#github-desktop-%E3%81%AE%E5%A0%B4%E5%90%88-4"><i class="fas fa-link"></i></a>
</h4>
<p>“Fetch origin” ボタンをクリックすると、リモートリポジトリに新しいコミットがあるかどうかを確認できます。</p>
<div class="inline-figure"><img src="images/github_desktop_fetch_button.png" width="817" style="display: block; margin: auto;"></div>
<p>Git がリモートリポジトリで新しいコミットを見つけると、このボタンは “Pull” ボタンに変わります。プッシュとプルに同じボタンが使われるので、事前にプルしておかないと変更をプッシュできません。</p>
<div class="inline-figure"><img src="images/github_desktop_pull_button.png" width="496" style="display: block; margin: auto;"></div>
<p>“History” タブ（“Changes” タブの近く）に行くと、すべてのコミット（自分のコミットと他の人のコミット）を見ることができます。これは、共同作業者が何をしたかを知るための良い方法です。
コミット・メッセージや説明文がある場合はそれを読み、<u>diff</u>ペインを使って 2 つのファイルのコードを比較することができます。</p>
<div class="inline-figure"><img src="images/github_desktop_history.png" width="993" style="display: block; margin: auto;"></div>
<p>すべてのリモートの変更がプルされ、少なくとも1つのローカルの変更がコミットされたら、同じボタンをクリックしてプッシュすることができます。</p>
<div class="inline-figure"><img src="images/github_desktop_push_button.png" width="816" style="display: block; margin: auto;"></div>
</div>
<div id="console-の場合-2" class="section level4 unnumbered">
<h4>Console の場合<a class="anchor" aria-label="anchor" href="#console-%E3%81%AE%E5%A0%B4%E5%90%88-2"><i class="fas fa-link"></i></a>
</h4>
<p>なななんと！コマンド名は <u>fetch</u> と <u>pull</u> と push です。</p>
<div class="sourceCode" id="cb1953"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1953-1"><a href="collaboration.html#cb1953-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fetch  <span class="co"># リモートに新しいコミットはあるか?</span></span>
<span id="cb1953-2"><a href="collaboration.html#cb1953-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull   <span class="co"># リモートのコミットをローカルブランチに持ってくる</span></span>
<span id="cb1953-3"><a href="collaboration.html#cb1953-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push   <span class="co"># ローカルへのコミットをリモートにプッシュ</span></span></code></pre></div>
</div>
<div id="プルしたいがローカルで作業中である" class="section level3 unnumbered">
<h3>プルしたいがローカルで作業中である<a class="anchor" aria-label="anchor" href="#%E3%83%97%E3%83%AB%E3%81%97%E3%81%9F%E3%81%84%E3%81%8C%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E4%BD%9C%E6%A5%AD%E4%B8%AD%E3%81%A7%E3%81%82%E3%82%8B"><i class="fas fa-link"></i></a>
</h3>
<p>この状況には時々遭遇します。
ローカルリポジトリで変更を加えたのに、リモートリポジトリにはあなたがプルしなかったコミットがあるという状況です。</p>
<p>あなたのローカルの変更が上書きされる可能性があるので、Git はプルを拒否します。自分の変更を維持するための戦略はいくつかあります。<a href="https://happygitwithr.com/pull-tricky.html">Happy Git with R</a>でよく説明されていますが、その中でも主なものは次の 2 つです。</p>
<ul>
<li>変更をコミットし、リモートの変更を取得して、それを取り込み、必要に応じて衝突を解決して (後述のセクションを参照ください)、すべてをオンラインにプッシュする</li>
<li>変更を「スタッシュ」し、プルしてスタッシュを解除 (復元) してから、コミットして衝突を解決してプッシュする。</li>
</ul>
<p>リモートでの変更に関連するファイルとローカルでの変更に関連するファイルが重なっていない場合は、Git は自動的にコンフリクトを解決することができます。</p>
<p>Github Desktop では、この操作をボタンで行うことができます。スタッシュするには、<u>Branch &gt; Stash all changes</u> と進みます。</p>
<div class="inline-figure"><img src="images/github_desktop_stash.png" width="922" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="ブランチをメインブランチにマージ" class="section level2" number="46.10">
<h2>
<span class="header-section-number">46.10</span> ブランチをメインブランチにマージ<a class="anchor" aria-label="anchor" href="#%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%81%AB%E3%83%9E%E3%83%BC%E3%82%B8"><i class="fas fa-link"></i></a>
</h2>
<p>変更が完了したら、その変更をメインブランチにマージする作業を始めましょう。状況に応じて、この作業を迅速に行うこともできますし、チームメイトを巻き込んで慎重にレビューや承認の手順を踏むこともできます。</p>
<div id="github-desktop-でのローカル作業" class="section level3 unnumbered">
<h3>Github Desktop でのローカル作業<a class="anchor" aria-label="anchor" href="#github-desktop-%E3%81%A7%E3%81%AE%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E4%BD%9C%E6%A5%AD"><i class="fas fa-link"></i></a>
</h3>
<p>Github Desktop を使ってローカルでブランチをマージすることもできます。まず、コミットを受け取る側のブランチ、つまり更新したい側のブランチに移動 (checkout) します。次に、メニューの <u>Branch &gt; Merge into current branch</u> をクリックします。インポート元のブランチを選択するボックスが表示されます。</p>
<div class="inline-figure"><img src="images/github_desktop_merge.png" width="623" style="display: block; margin: auto;"></div>
</div>
<div id="console-の場合-3" class="section level3 unnumbered">
<h3>Console の場合<a class="anchor" aria-label="anchor" href="#console-%E3%81%AE%E5%A0%B4%E5%90%88-3"><i class="fas fa-link"></i></a>
</h3>
<p>まず、変更を受け取るブランチに戻ります。これは通常は <u>master</u> ですが、別のブランチになることもあります。次に、作業中のブランチを master にマージします。</p>
<div class="sourceCode" id="cb1954"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1954-1"><a href="collaboration.html#cb1954-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout master  <span class="co"># master (あるいは、その他の branch) に戻る</span></span>
<span id="cb1954-2"><a href="collaboration.html#cb1954-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> merge this_fancy_new_branch</span></code></pre></div>
<p><a href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging">このページ</a>では、より高度なブランチ操作の例を示し、裏で何が起こっているかを少し説明しています。</p>
</div>
<div id="github-でプルリクエストの提出" class="section level3 unnumbered">
<h3>Github でプル・リクエストの提出<a class="anchor" aria-label="anchor" href="#github-%E3%81%A7%E3%83%97%E3%83%AB%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%AE%E6%8F%90%E5%87%BA"><i class="fas fa-link"></i></a>
</h3>
<p>2 つのブランチを誰にも知らせずにマージすることも可能ですが、master ブランチに統合する前に、複数の人でマージについて議論したり調査したりすることがあります。このプロセスを支援するために、Github ではマージに関する議論を行うための機能として、<strong>プル・リクエスト (pull request, PR)</strong> を提供しています。</p>
<p>プル・リクエスト（“PR”）とは、あるブランチを別のブランチにマージするためのリクエストです (「私の作業ブランチを “main” ブランチにプルしてほしい」というリクエストです)。 プル・リクエストには通常、複数のコミットが含まれます。プル・リクエストを受け入れてブランチにマージする前に、議論とレビューのプロセスが始まります。例えば、<a href="https://github.com/tidyverse/dplyr/pulls">dplyr パッケージの github</a>でプル・リクエストの議論を読むことができます。</p>
<p>プル・リクエスト（PR）は、下図のように Web サイトから直接送信することも、Github Desktop から送信することもできます。</p>
<ul>
<li>Github リポジトリ（オンライン）にアクセスします。</li>
<li>“Pull Requests” タブを表示し、“New pull request” ボタンをクリックします。</li>
<li>ドロップダウンメニューから、自分のブランチを main にマージするものを選択します。</li>
<li>プル・リクエストの詳細なコメントを書き、“Create Pull Request” をクリックします。</li>
</ul>
<p>以下の画像では、“forests” というブランチが “main” にマージされるように選択されています。</p>
<div class="inline-figure"><img src="images/github_pull_request2.png" width="100%" height="150%" style="display: block; margin: auto;"></div>
<p>これで、プル・リクエストが表示されるようになりました（以下の画像例）。</p>
<ul>
<li><p>タブの “Files changed” を確認すると、“main” ブランチがマージされた場合にどのように変化するかがわかります。</p></li>
<li><p>右側には、Github ID をタグ付けすることで、チームのメンバーにレビューを要求することができます。main にマージするためには承認するレビューが 1 つ必要になるようにリポジトリの設定をすることもできます。</p></li>
<li><p>プル・リクエストが承認されると、“Merge pull request” のボタンがアクティブになります。これをクリックします。</p></li>
<li><p>マージが完了したら、以下の手順でブランチを削除します。</p></li>
</ul>
<div class="inline-figure"><img src="images/github_pull_request.png" width="100%" height="200%" style="display: block; margin: auto;"></div>
</div>
<div id="コンフリクトの解決" class="section level3 unnumbered">
<h3>コンフリクトの解決<a class="anchor" aria-label="anchor" href="#%E3%82%B3%E3%83%B3%E3%83%95%E3%83%AA%E3%82%AF%E3%83%88%E3%81%AE%E8%A7%A3%E6%B1%BA"><i class="fas fa-link"></i></a>
</h3>
<p>2 人の人間が同じ行を同時に変更すると、マージ・コンフリクトが発生します。Git はどちらのバージョンを残すかの判断はしませんが、コンフリクトが発生している場所を探すのには役立ちます。<strong>慌てないでください。</strong>
ほとんどの場合は、簡単に解決できます。</p>
<p>例えば、Github の場合</p>
<div class="inline-figure"><img src="images/github_conflict2.png" width="100%" height="200%" style="display: block; margin: auto;"></div>
<p>マージでコンフリクトが発生したら、そのファイルをエディターで開いてください。コンフリクトは文字列で示されます。</p>
<div class="inline-figure"><img src="images/github_conflict3.png" width="100%" height="200%" style="display: block; margin: auto;"></div>
<p>どちらのバージョンのコードがいいかを決めて（あるいは、両方の変更点を含んだ 3 つ目のコードを書いて）、残りの部分を削除し、Git が付けたマーク
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
