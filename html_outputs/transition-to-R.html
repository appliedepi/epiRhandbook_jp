<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>4 Excel・Stata・SASとの比較 | 疫学のための R ハンドブック</title>
<meta name="author" content="the handbook team">
<meta name="description" content="本章では、他のソフトウェアから R に移行する場合に役立つヒントや注意点について解説し、参考になる資料を紹介します。 R は1990年代後半に導入されて以来、利用者を飛躍的に拡大してきました。R の機能が非常に広範であるため、代替となる商用のソフトウェアは競争力を維持するために、R の開発に対応してきました。（R、SPSS、SAS、STATA、Python...">
<meta name="generator" content="bookdown 0.31 with bs4_book()">
<meta property="og:title" content="4 Excel・Stata・SASとの比較 | 疫学のための R ハンドブック">
<meta property="og:type" content="book">
<meta property="og:description" content="本章では、他のソフトウェアから R に移行する場合に役立つヒントや注意点について解説し、参考になる資料を紹介します。 R は1990年代後半に導入されて以来、利用者を飛躍的に拡大してきました。R の機能が非常に広範であるため、代替となる商用のソフトウェアは競争力を維持するために、R の開発に対応してきました。（R、SPSS、SAS、STATA、Python...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="4 Excel・Stata・SASとの比較 | 疫学のための R ハンドブック">
<meta name="twitter:description" content="本章では、他のソフトウェアから R に移行する場合に役立つヒントや注意点について解説し、参考になる資料を紹介します。 R は1990年代後半に導入されて以来、利用者を飛躍的に拡大してきました。R の機能が非常に広範であるため、代替となる商用のソフトウェアは競争力を維持するために、R の開発に対応してきました。（R、SPSS、SAS、STATA、Python...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.26/datatables.js"></script><link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/tabwid-1.1.2/tabwid.css" rel="stylesheet">
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script><script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.9/grViz.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><script src="libs/plotly-binding-4.10.1/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script><link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="libs/plotly-basic-2.11.1/plotly-basic-2.11.1.min.js"></script><script src="libs/plotly-cartesian-2.11.1/plotly-cartesian-2.11.1.min.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-9.3.1/highcharts.js"></script><script src="libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="libs/highcharts-9.3.1/highcharts-more.js"></script><script src="libs/highcharts-9.3.1/modules/stock.js"></script><script src="libs/highcharts-9.3.1/modules/map.js"></script><script src="libs/highcharts-9.3.1/modules/data.js"></script><script src="libs/highcharts-9.3.1/modules/exporting.js"></script><script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="libs/highcharts-9.3.1/modules/item-series.js"></script><script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-9.3.1/modules/annotations.js"></script><script src="libs/highcharts-9.3.1/modules/export-data.js"></script><script src="libs/highcharts-9.3.1/modules/funnel.js"></script><script src="libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="libs/highcharts-9.3.1/modules/treemap.js"></script><script src="libs/highcharts-9.3.1/modules/sankey.js"></script><script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="libs/highcharts-9.3.1/modules/organization.js"></script><script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="libs/highcharts-9.3.1/modules/vector.js"></script><script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="libs/highcharts-9.3.1/modules/xrange.js"></script><script src="libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="libs/highcharts-9.3.1/modules/venn.js"></script><script src="libs/highcharts-9.3.1/modules/gantt.js"></script><script src="libs/highcharts-9.3.1/modules/timeline.js"></script><script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="libs/highcharts-9.3.1/modules/bullet.js"></script><script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="libs/highcharts-9.3.1/modules/series-label.js"></script><script src="libs/highcharts-9.3.1/plugins/motion.js"></script><script src="libs/highcharts-9.3.1/custom/reset.js"></script><script src="libs/highcharts-9.3.1/modules/boost.js"></script><script src="libs/highchart-binding-0.9.4/highchart.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QXDW878QLX');
    </script><script type="text/javascript">
        // window.addEventListener("load", function() {
        //     document.getElementById('toc').firstChild.innerHTML = "章目次"; 
        // });
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementsByClassName("d-flex align-items-start justify-content-between")[0].children[0].children[0].innerHTML = "疫学のための R</br>ハンドブック";
            document.getElementById('toc').firstChild.innerHTML = "章目次"; 
            document.getElementById('main-nav').children[1].firstChild.innerHTML = "総目次";
            document.getElementById('search').setAttribute("placeholder", "検索");
        });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">疫学のための R ハンドブック</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">本書について</li>
<li><a class="" href="editorial-style.html"><span class="header-section-number">1</span> 編集前記・技術注記</a></li>
<li><a class="" href="data-used.html"><span class="header-section-number">2</span> ハンドブックとデータのダウンロード</a></li>
<li class="book-part">基本編</li>
<li><a class="" href="basics.html"><span class="header-section-number">3</span> R の基礎</a></li>
<li><a class="active" href="transition-to-R.html"><span class="header-section-number">4</span> Excel・Stata・SASとの比較</a></li>
<li><a class="" href="packages-suggested.html"><span class="header-section-number">5</span> 推奨パッケージ</a></li>
<li><a class="" href="r-projects.html"><span class="header-section-number">6</span> R プロジェクト</a></li>
<li><a class="" href="importing.html"><span class="header-section-number">7</span> データのインポート・エクスポート</a></li>
<li class="book-part">データマネジメント</li>
<li><a class="" href="cleaning.html"><span class="header-section-number">8</span> データクリーニングと主要関数</a></li>
<li><a class="" href="dates.html"><span class="header-section-number">9</span> 日付型データ</a></li>
<li><a class="" href="characters-strings.html"><span class="header-section-number">10</span> 文字型・文字列型データ</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">11</span> 因子（ファクタ）型データ</a></li>
<li><a class="" href="pivoting.html"><span class="header-section-number">12</span> データの縦横変換</a></li>
<li><a class="" href="grouping.html"><span class="header-section-number">13</span> データのグループ化</a></li>
<li><a class="" href="joining-matching.html"><span class="header-section-number">14</span> データの結合</a></li>
<li><a class="" href="deduplication.html"><span class="header-section-number">15</span> 重複データの排除</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">16</span> ループと反復処理・リストの操作</a></li>
<li class="book-part">データ分析</li>
<li><a class="" href="tables-descriptive.html"><span class="header-section-number">17</span> 記述統計表の作り方</a></li>
<li><a class="" href="stat-tests.html"><span class="header-section-number">18</span> 基本的な統計的検定</a></li>
<li><a class="" href="regression.html"><span class="header-section-number">19</span> 単変量と多変量回帰</a></li>
<li><a class="" href="missing-data.html"><span class="header-section-number">20</span> データの欠損</a></li>
<li><a class="" href="standardization.html"><span class="header-section-number">21</span> 標準化率</a></li>
<li><a class="" href="moving-average.html"><span class="header-section-number">22</span> 移動平均</a></li>
<li><a class="" href="time-series.html"><span class="header-section-number">23</span> 時系列分析とアウトブレイクの検出</a></li>
<li><a class="" href="epidemic-models.html"><span class="header-section-number">24</span> エピデミックモデリング</a></li>
<li><a class="" href="contact-tracing.html"><span class="header-section-number">25</span> 接触者の追跡</a></li>
<li><a class="" href="survey-analysis.html"><span class="header-section-number">26</span> 標本調査データ分析</a></li>
<li><a class="" href="survival-analysis.html"><span class="header-section-number">27</span> 生存時間解析</a></li>
<li><a class="" href="gis.html"><span class="header-section-number">28</span> GIS の基本</a></li>
<li class="book-part">データの可視化</li>
<li><a class="" href="tables-presentation.html"><span class="header-section-number">29</span> 見やすい表の作り方</a></li>
<li><a class="" href="ggplot-basics.html"><span class="header-section-number">30</span> ggplot の基本</a></li>
<li><a class="" href="ggplot-tips.html"><span class="header-section-number">31</span> ggplotのヒント</a></li>
<li><a class="" href="epicurves.html"><span class="header-section-number">32</span> 流行曲線（エピカーブ）</a></li>
<li><a class="" href="age-pyramid.html"><span class="header-section-number">33</span> 人口ピラミッドとリッカート尺度</a></li>
<li><a class="" href="heatmaps.html"><span class="header-section-number">34</span> ヒートマップ</a></li>
<li><a class="" href="diagrams.html"><span class="header-section-number">35</span> フローチャート・サンキー図・タイムライン</a></li>
<li><a class="" href="combination-analysis.html"><span class="header-section-number">36</span> 複数回答データの分析</a></li>
<li><a class="" href="transmission-chains.html"><span class="header-section-number">37</span> 感染連鎖</a></li>
<li><a class="" href="phylogenetic-trees.html"><span class="header-section-number">38</span> 系統樹</a></li>
<li><a class="" href="interactive-plots.html"><span class="header-section-number">39</span> 動的な図の作成</a></li>
<li class="book-part">レポートとダッシュボード</li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">40</span> R Markdown で作るレポート</a></li>
<li><a class="" href="reportfactory.html"><span class="header-section-number">41</span> ルーチンで作成するレポートの整理</a></li>
<li><a class="" href="flexdashboard.html"><span class="header-section-number">42</span> R Markdownで作るダッシュボード</a></li>
<li><a class="" href="shiny-basics.html"><span class="header-section-number">43</span> Shiny で作るダッシュボード</a></li>
<li class="book-part">その他</li>
<li><a class="" href="writing-functions.html"><span class="header-section-number">44</span> 関数の作成</a></li>
<li><a class="" href="directories.html"><span class="header-section-number">45</span> ディレクトリの操作</a></li>
<li><a class="" href="collaboration.html"><span class="header-section-number">46</span> Git と Github を使ったバージョン管理と共同作業</a></li>
<li><a class="" href="errors.html"><span class="header-section-number">47</span> よくあるエラー</a></li>
<li><a class="" href="help.html"><span class="header-section-number">48</span> ヘルプ</a></li>
<li><a class="" href="network-drives.html"><span class="header-section-number">49</span> ネットワークドライブで R を使用する場合</a></li>
<li><a class="" href="data-table.html"><span class="header-section-number">50</span> data.table パッケージを使用したデータ処理</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="transition-to-R" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Excel・Stata・SASとの比較<a class="anchor" aria-label="anchor" href="#transition-to-R"><i class="fas fa-link"></i></a>
</h1>
<p>本章では、他のソフトウェアから R に移行する場合に役立つヒントや注意点について解説し、参考になる資料を紹介します。</p>
<p>R は1990年代後半に導入されて以来、利用者を飛躍的に拡大してきました。R の機能が非常に広範であるため、代替となる商用のソフトウェアは競争力を維持するために、R の開発に対応してきました。（<a href="https://www.inwt-statistics.com/read-blog/comparison-of-r-python-sas-spss-and-stata.html">R、SPSS、SAS、STATA、Python を比較したこちらの記事をご覧ください。</a>)</p>
<p>さらに、R は 10 年前よりもはるかに学びやすくなっています。以前は、R は初心者には難しいと評判でしたが、RStudio のような使いやすいユーザー・インターフェースや、<strong>tidyverse</strong> のような直感的に理解しやすいコード、そして多くの教材を利用すると、作業はずっと簡単になります。</p>
<p><strong>怖がらずに、R の世界に踏み入れてみてください！</strong></p>
<div class="inline-figure"><img src="images/transition_door.png" width="75%" height="75%" style="display: block; margin: auto;"></div>
<div id="excel-からの移行" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> <strong>Excel からの移行</strong><a class="anchor" aria-label="anchor" href="#excel-%E3%81%8B%E3%82%89%E3%81%AE%E7%A7%BB%E8%A1%8C"><i class="fas fa-link"></i></a>
</h2>
<p>Excel から R への移行は、非常に達成しやすい目標です。気が遠くなるかもしれませんが、あなたならできます！</p>
<p>確かに、Excel のスキルに長けていれば、VBA のようなスクリプトツールを使用して、Excel だけで非常に高度な操作を実行できます。Excel は世界中で使用されており、疫学者や疫学業務担当者にとって不可欠なツールです。しかし、R で補完することで、ワークフローを劇的に改善し、拡張することができます。</p>
<div id="メリット" class="section level3 unnumbered">
<h3>
<strong>メリット</strong><a class="anchor" aria-label="anchor" href="#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88"><i class="fas fa-link"></i></a>
</h3>
<p>R を使用すると、時間の節約、より一貫性のある正確な分析、再現性、共有性、および迅速なエラーの修正という点で大きな利点があります。他の新しいソフトウェアと同じように、慣れ親しむために投資しなければならない時間の「学習曲線」があります。しかし、R を使うことで得られるメリットは非常に大きく、R によって新たな可能性が開かれるでしょう。</p>
<p>Excel はよく知られたソフトウェアで、初心者でもカーソル操作で簡単に簡素な解析と視覚化を行うことができます。それに比べて、R の機能やインターフェースを快適に使えるようになるには数週間かかるかもしれません。しかし、近年、R は初心者にも使いやすいように進化しています。</p>
<p>多くの Excel ワークフローはメモリと反復に依存しているため、エラーが発生する可能性が高くなります。さらに、一般的には、データのクリーニング履歴、解析方法、および使用されている方程式は表示されません。新しい仕事仲間が Excel ブックの動作とそのトラブルシューティング方法を習得するには、かなりの時間がかかります。R を使用すると、すべてのステップがスクリプトに明示的に書き込まれ、簡単に表示、編集、修正、および他のデータセットへの適用が可能になります。</p>
<p><strong>Excel から R への移行を始めるにあたり、いくつか重要な点で、基本的に考え方を変える必要があります。</strong>以下に詳しく説明していきます。</p>
</div>
<div id="データの整理" class="section level3 unnumbered">
<h3>
<strong>データの整理</strong><a class="anchor" aria-label="anchor" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%95%B4%E7%90%86"><i class="fas fa-link"></i></a>
</h3>
<p>「人間だけが読める」乱雑なデータの代わりに、機械で可読なきちんとした「整然（tidy）」データを使用します。こちらの <a href="https://r4ds.had.co.nz/tidy-data.html">R の「整然」データに関するチュートリアル</a> で説明されているように、「整然」データには主に以下の 3 つの要件があります。</p>
<ul>
<li>各変数がそれぞれ独自の列となっていること</li>
<li>各観測値がそれぞれ独自の行となっていること</li>
<li>各値がそれぞれ独自のセルとなっていること</li>
</ul>
<p>Excel ユーザーの方は、<a href="https://exceljet.net/excel-tables">Excel の「表」</a> が担う、データを標準化して書式を予測しやすくする役割と同じように捉えてください。</p>
<p>「整然」データの例としては、このハンドブックを通して使用されている症例リスト（<code>linelist</code>）が挙げられます。各変数はそれぞれ 1 列で表され、各観測値（症例）は独自の行を持ち、各値はそれぞれ 1 つのセルに収められています。以下に、症例リストの最初の 50 行を表示します。</p>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-301acb24c8e776bf099b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-301acb24c8e776bf099b">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2\" data-max=\"13\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1399075200000\" data-max=\"1406419200000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1399939200000\" data-max=\"1407024000000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1400025600000\" data-max=\"1407110400000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1400371200000\" data-max=\"1410566400000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"67\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\" disabled=\"\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"67\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;0-4&quot;,&quot;5-9&quot;,&quot;10-14&quot;,&quot;15-19&quot;,&quot;20-29&quot;,&quot;30-49&quot;,&quot;50-69&quot;,&quot;70+&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;0-4&quot;,&quot;5-9&quot;,&quot;10-14&quot;,&quot;15-19&quot;,&quot;20-24&quot;,&quot;25-29&quot;,&quot;30-34&quot;,&quot;35-39&quot;,&quot;40-44&quot;,&quot;45-49&quot;,&quot;50-54&quot;,&quot;55-59&quot;,&quot;60-64&quot;,&quot;65-69&quot;,&quot;70-74&quot;,&quot;75-79&quot;,&quot;80-84&quot;,&quot;85+&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"-13.2697246824573\" data-max=\"-13.209391925612\" data-scale=\"13\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"8.45171855856465\" data-max=\"8.48802917129884\" data-scale=\"14\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"100\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"11\" data-max=\"241\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"20\" data-max=\"24\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"35.9\" data-max=\"38\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"428.994082840237\" data-scale=\"14\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["5fe599","8689b7","11f8ea","b8812a","893f25","be99c8","07e3e8","369449","f393b4","1389ca","2978ac","57a565","fc15ef","2eaa9a","bbfa93","c97dd9","f50e8a","3a7673","7f5a01","ddddee","99e8fa","567136","9371a9","bc2adf","403057","8bd1e8","f327be","42e1a9","90e5fe","959170","8ebf6e","e56412","6d788e","a47529","67be4e","da8ecb","148f18","2cb9a5","f5c142","70a9fe","3ad520","062638","c76676","baacc1","497372","23e499","38cc4a","3789ee","c71dcd","6b70f0"],[4,4,2,3,3,3,4,4,4,4,4,4,6,5,6,9,10,8,7,6,7,6,8,6,10,8,6,12,5,8,7,9,11,5,8,5,6,11,7,9,7,8,9,12,13,9,8,10,8,7],["2014-05-08",null,null,"2014-05-04","2014-05-18","2014-05-03","2014-05-22","2014-05-28",null,null,"2014-05-30","2014-05-28","2014-06-14","2014-06-07","2014-06-09",null,null,null,"2014-06-23","2014-06-18","2014-06-24",null,null,"2014-07-03",null,"2014-07-10","2014-06-14",null,"2014-06-18","2014-06-29","2014-07-02","2014-07-12","2014-07-12","2014-06-13","2014-07-15","2014-06-20",null,null,"2014-07-20",null,"2014-07-12","2014-07-19","2014-07-18","2014-07-18","2014-07-27",null,"2014-07-19","2014-07-26","2014-07-24",null],["2014-05-13","2014-05-13","2014-05-16","2014-05-18","2014-05-21","2014-05-22","2014-05-27","2014-06-02","2014-06-05","2014-06-05","2014-06-06","2014-06-13","2014-06-16","2014-06-17","2014-06-18","2014-06-19","2014-06-22","2014-06-23","2014-06-25","2014-06-26","2014-06-28","2014-07-02","2014-07-08","2014-07-09","2014-07-09","2014-07-10","2014-07-12","2014-07-12","2014-07-13","2014-07-13","2014-07-14","2014-07-15","2014-07-16","2014-07-17","2014-07-17","2014-07-18","2014-07-19","2014-07-22","2014-07-22","2014-07-24","2014-07-24","2014-07-25","2014-07-25","2014-07-27","2014-07-29","2014-07-30",null,"2014-08-01","2014-08-02","2014-08-03"],["2014-05-15","2014-05-14","2014-05-18","2014-05-20","2014-05-22","2014-05-23","2014-05-29","2014-06-03","2014-06-06","2014-06-07","2014-06-08","2014-06-15","2014-06-17","2014-06-17","2014-06-20","2014-06-19","2014-06-23","2014-06-24","2014-06-27","2014-06-28","2014-06-29","2014-07-03","2014-07-09","2014-07-09","2014-07-11","2014-07-11","2014-07-13","2014-07-14","2014-07-14","2014-07-13","2014-07-14","2014-07-17","2014-07-17","2014-07-18","2014-07-19","2014-07-20","2014-07-20","2014-07-22","2014-07-24","2014-07-26","2014-07-24","2014-07-27","2014-07-25","2014-07-27","2014-07-31","2014-08-01","2014-08-03","2014-08-02","2014-08-02","2014-08-04"],[null,"2014-05-18","2014-05-30",null,"2014-05-29","2014-05-24","2014-06-01","2014-06-07","2014-06-18","2014-06-09","2014-06-15",null,"2014-07-09",null,"2014-06-30","2014-07-11","2014-07-01","2014-06-25","2014-07-06","2014-07-02","2014-07-09","2014-07-07","2014-07-20",null,"2014-07-22","2014-07-16","2014-07-14","2014-07-20","2014-07-16","2014-07-19","2014-07-27","2014-07-19",null,"2014-07-26","2014-08-14","2014-08-01","2014-07-23","2014-08-28","2014-07-28","2014-07-19",null,"2014-08-03",null,null,null,"2014-08-06","2014-08-21","2014-09-13","2014-08-04",null],[null,"Recover","Recover",null,"Recover","Recover","Recover","Death","Recover","Death","Death","Death","Recover","Recover",null,"Recover",null,null,"Death","Death","Recover",null,null,null,"Death",null,"Death","Death",null,"Death","Recover","Death","Recover","Death","Recover",null,"Death","Recover","Recover","Death",null,null,"Death","Death","Death","Death","Recover",null,"Death","Death"],["m","f","m","f","m","f","f","f","m","f","m","m","m","f","f","m","f","f","f","f","m","m","f","m","f","m","m","f","m","f","f","f","m","m","f","m","f","f","f","m","f","m","f","m","m","f","m","f","m","m"],[2,3,56,18,3,16,16,0,61,27,12,42,19,7,7,13,35,17,11,11,19,54,14,28,6,3,31,6,67,14,10,21,20,45,1,12,3,15,20,36,7,13,14,3,10,1,0,20,26,14],["years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years"],[2,3,56,18,3,16,16,0,61,27,12,42,19,7,7,13,35,17,11,11,19,54,14,28,6,3,31,6,67,14,10,21,20,45,1,12,3,15,20,36,7,13,14,3,10,1,0,20,26,14],["0-4","0-4","50-69","15-19","0-4","15-19","15-19","0-4","50-69","20-29","10-14","30-49","15-19","5-9","5-9","10-14","30-49","15-19","10-14","10-14","15-19","50-69","10-14","20-29","5-9","0-4","30-49","5-9","50-69","10-14","10-14","20-29","20-29","30-49","0-4","10-14","0-4","15-19","20-29","30-49","5-9","10-14","10-14","0-4","10-14","0-4","0-4","20-29","20-29","10-14"],["0-4","0-4","55-59","15-19","0-4","15-19","15-19","0-4","60-64","25-29","10-14","40-44","15-19","5-9","5-9","10-14","35-39","15-19","10-14","10-14","15-19","50-54","10-14","25-29","5-9","0-4","30-34","5-9","65-69","10-14","10-14","20-24","20-24","45-49","0-4","10-14","0-4","15-19","20-24","35-39","5-9","10-14","10-14","0-4","10-14","0-4","0-4","20-24","25-29","10-14"],["Other","Missing","St. Mark's Maternity Hospital (SMMH)","Port Hospital","Military Hospital","Port Hospital","Missing","Missing","Missing","Missing","Port Hospital","Military Hospital","Missing","Missing","Other","Port Hospital","Port Hospital","Port Hospital","Missing","Other","Port Hospital","Port Hospital","St. Mark's Maternity Hospital (SMMH)","Missing","Other","Missing","St. Mark's Maternity Hospital (SMMH)","Military Hospital","Port Hospital","Central Hospital","Military Hospital","Central Hospital","Missing","Military Hospital","Other","Missing","Missing","Port Hospital","Port Hospital","Port Hospital","Missing","Central Hospital","Military Hospital","Other","Other","Other","Missing","St. Mark's Maternity Hospital (SMMH)","St. Mark's Maternity Hospital (SMMH)","Missing"],[-13.2157351064963,-13.2152339775486,-13.212910703914,-13.2363711169728,-13.2228638912441,-13.222625321098,-13.2331547837254,-13.2320975453153,-13.2225511595637,-13.2572163655863,-13.2206286746001,-13.253989309478,-13.2385127873491,-13.209391925612,-13.2157278814899,-13.2243437095992,-13.2336087079551,-13.21422143145,-13.2339681355349,-13.2535640411465,-13.2250089377786,-13.2160657166043,-13.2680671272333,-13.2266742923612,-13.2160179088168,-13.2482584611565,-13.2156319199566,-13.2142410663192,-13.2614879104088,-13.2452992638476,-13.2630592726116,-13.2343341712241,-13.2199077448676,-13.2227293309912,-13.2343062806506,-13.218781651651,-13.2483677722899,-13.2097478342339,-13.2680867723786,-13.2587535457526,-13.262635786914,-13.2697246824573,-13.2209026809759,-13.2330734719715,-13.2680923666905,-13.2547212675054,-13.2573683214693,-13.2137356012883,-13.2175973322257,-13.2486407324245],[8.46897295100924,8.45171855856465,8.46481700596819,8.4754761613651,8.46082377490923,8.46183062600728,8.46272931462646,8.46144367534271,8.46191259217774,8.47292327643506,8.48401630165138,8.45837125340844,8.47761705512509,8.47570184950483,8.47779946878972,8.47145134147474,8.47804840685363,8.48528034195779,8.46957530395867,8.45957352078114,8.47404889511544,8.48802917129884,8.473437335922,8.48408263734462,8.46242233645879,8.47026822126572,8.46398447480533,8.4641347894342,8.45623094629607,8.48334624336805,8.47493999153642,8.47832062438022,8.4693933891765,8.48480589906514,8.47121232619015,8.48438437371817,8.48466158574339,8.47714159984428,8.46238127010609,8.45568597813113,8.4632880274758,8.47940722413856,8.46353857052336,8.46178968158864,8.47508713872833,8.45825808128071,8.4532568143863,8.4732571907655,8.47911586641933,8.48480340615605],["f547d6",null,null,"f90f5f","11f8ea","aec8ec","893f25","133ee7",null,null,"996f3a","133ee7","37a6f6","9f6884","4802b1",null,null,null,"a75c7f","8e104d","ab634e",null,null,"b799eb",null,"5d9e4d","a15e13",null,"ea3740","beb26e","567136","894024","36e2e7","a2086d","7baf73","eb2277",null,null,"d6584f",null,"312ecf","52ea64","cfd79c","d145b7","174288",null,"53608c","3b096b","f5c142",null],["other",null,null,"other","other","other","other","other",null,null,"other","other","other","other","other",null,null,null,"other","other","other",null,null,"other",null,"other","other",null,"other","funeral","other","funeral","other","other","other","funeral",null,null,"other",null,"other","other","other","other","other",null,"funeral","other","other",null],[27,25,91,41,36,56,47,0,86,69,67,84,68,44,34,66,78,47,53,47,71,86,53,69,38,46,68,37,100,56,50,57,65,72,29,69,37,48,54,71,47,61,47,35,53,16,13,59,69,67],[48,59,238,135,71,116,87,11,226,174,112,186,174,90,91,152,214,137,117,131,150,241,131,161,80,69,188,66,233,142,110,182,164,214,26,157,39,154,133,168,100,125,123,67,134,31,36,125,183,169],[22,22,21,23,23,21,21,22,22,22,22,22,22,21,23,22,23,21,22,23,21,23,21,24,23,22,24,23,20,24,24,20,24,21,22,21,23,22,23,23,23,22,23,22,22,22,23,22,22,22],["no",null,null,"no","no","no",null,"no","no","no","no","no","no","no","no","no","no","no",null,"no","no","no","no","no",null,"no","no","no",null,null,"no","no",null,"no","no",null,null,"no","no",null,"no","no",null,"no","no","no","no","no","no",null],["no",null,null,"no","no","no",null,"no","no","no","no","no","no","no","no","no","yes","no",null,"no","no","no","yes","no",null,"no","no","yes",null,null,"no","no",null,"no","no",null,null,"no","no",null,"no","no",null,"no","yes","no","no","no","no",null],["yes",null,null,"no","yes","yes",null,"yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes",null,"yes","yes","yes","yes","yes",null,"yes","yes","yes",null,null,"yes","yes",null,"yes","yes",null,null,"yes","yes",null,"yes","yes",null,"yes","yes","yes","yes","yes","no",null],["no",null,null,"no","no","no",null,"no","no","no","no","no","no","no","no","yes","no","no",null,"no","no","no","no","no",null,"no","no","no",null,null,"no","no",null,"no","no",null,null,"yes","yes",null,"no","no",null,"no","no","no","no","no","no",null],["yes",null,null,"no","yes","yes",null,"yes","yes","no","yes","no","no","no","yes","no","no","no",null,"no","yes","no","no","no",null,"no","no","no",null,null,"no","yes",null,"yes","yes",null,null,"yes","yes",null,"yes","yes",null,"yes","yes","no","yes","yes","yes",null],[36.8,36.9,36.9,36.8,36.9,37.6,37.3,37,36.4,35.9,36.5,36.9,36.5,37.1,36.5,37.3,37,38,38,36,37,36.7,36.9,36.5,37,36.5,37.6,36.6,36.6,36.2,36.4,37.1,37.5,37.5,37.4,36.9,36.4,37.3,37,37.8,36.5,37.5,36.7,37,37.3,36.6,36.5,36.6,37.6,36.8],[null,"09:36","16:48","11:22","12:60","14:13","14:33","09:25","11:16","10:55","16:03","11:14","12:42","11:06","09:10","08:45",null,"15:41","13:34","18:58","12:43","16:33","14:29","07:18","08:11","16:32","16:17","07:32","17:45",null,"13:24","14:43","02:33","11:36","17:28","16:27",null,"20:49",null,"11:38","14:25","13:42","21:22","13:33","19:06","17:14","20:09",null,"10:23","09:09"],[117.1875,71.8184429761563,16.0652496292635,22.4965706447188,71.4144019043841,41.6171224732461,62.0953890870657,0,16.8376536925366,22.7903289734443,53.4119897959184,24.2802636142907,22.4600343506408,54.320987654321,41.0578432556455,28.5664819944598,17.0320552013276,25.0412914912888,38.7172182043977,27.3876813705495,31.5555555555556,14.8069075945662,30.8839811199813,26.6193433895297,59.375,96.6183574879227,19.2394748755093,84.9403122130395,18.4199377406104,27.7722674072605,41.3223140495868,17.2080666586161,24.1671624033314,15.7218971089178,428.994082840237,27.9930220292912,243.261012491782,20.2395007589813,30.527446435638,25.15589569161,47,39.04,31.0661643201798,77.9683671196257,29.5165961238583,166.493236212279,100.308641975309,37.76,20.6037803457852,23.458562375267],[2,1,2,2,1,1,2,1,1,2,2,2,1,0,2,0,1,1,2,2,1,1,1,0,2,1,1,2,1,0,0,2,1,1,2,2,1,0,2,2,0,2,0,0,2,2,null,1,0,1]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>case_id<\/th>\n      <th>generation<\/th>\n      <th>date_infection<\/th>\n      <th>date_onset<\/th>\n      <th>date_hospitalisation<\/th>\n      <th>date_outcome<\/th>\n      <th>outcome<\/th>\n      <th>gender<\/th>\n      <th>age<\/th>\n      <th>age_unit<\/th>\n      <th>age_years<\/th>\n      <th>age_cat<\/th>\n      <th>age_cat5<\/th>\n      <th>hospital<\/th>\n      <th>lon<\/th>\n      <th>lat<\/th>\n      <th>infector<\/th>\n      <th>source<\/th>\n      <th>wt_kg<\/th>\n      <th>ht_cm<\/th>\n      <th>ct_blood<\/th>\n      <th>fever<\/th>\n      <th>chills<\/th>\n      <th>cough<\/th>\n      <th>aches<\/th>\n      <th>vomit<\/th>\n      <th>temp<\/th>\n      <th>time_admission<\/th>\n      <th>bmi<\/th>\n      <th>days_onset_hosp<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,8,10,14,15,18,19,20,26,28,29]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p><u>整然としないデータに遭遇する主な理由は、多くの Excel スプレッドシートが、機械やソフトウェアによる読みやすさではなく、人間にとっての読みやすさを優先するように設計されているためです。</u></p>
<p>この違いを理解しやすくするために、人間の可読性を機械の可読性より優先した<strong>整然としないデータ</strong>の架空の例を以下に示します。</p>
<p>例 1：</p>
<div class="inline-figure"><img src="images/Excel_nonTidy_1.png" width="100%" height="75%" style="display: block; margin: auto;"></div>
<p><u>問題点</u>：上のスプレッドシートには、R が解読しにくい結合されたセルがあります。どの行を「ヘッダ」と見なすかが、明確ではありません。右側には色付けされた辞書があり、セルの値は色で表されますが、これも R は簡単に解釈できません（また、色覚多様性への配慮も欠けています！）。さらに、異なる情報が 1 つのセルにまとめられているのも問題です（複数の組織が1 つの領域で作業している、または「TBC」というステータスが「パートナー D」と同じセルにある）。</p>
<p>例 2：</p>
<div class="inline-figure"><img src="images/Excel_nonTidy_2.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
<p><u>問題点</u>：上のスプレッドシートでは、データセット内に空の行と列が多数あります。これは、R でクリーニングする際に頭痛の種になります。さらに、GPS 座標は、1 つの施設につき、2 つの行に書かれています。その上、GPS 座標は 2 つの形式で書かれています！</p>
<p>「整然」データセットは人間の目には読みにくいかもしれませんが、データのクリーニングと分析を簡単にしてくれます！整然データは、例えば「縦型」や「横型」（詳しくは、<a href="pivoting.html#pivoting">データの縦横変換</a> の章を参照ください）など、さまざまな形式で格納できますが、上記の原則は守られています。</p>
</div>
<div id="関数" class="section level3 unnumbered">
<h3>
<strong>関数</strong><a class="anchor" aria-label="anchor" href="#%E9%96%A2%E6%95%B0"><i class="fas fa-link"></i></a>
</h3>
<p>R の単語「関数」は新しいかもしれませんが、この概念は Excel にも数式として存在します。Excel の数式も、セミコロンと括弧の配置など、正確な構文で書かれている必要があります。R の関数を学ぶにあたって必要なのは、いくつかの新しい機能と、それらが R でどのように連携するかを学ぶことだけです。</p>
</div>
<div id="スクリプト" class="section level3 unnumbered">
<h3>
<strong>スクリプト</strong><a class="anchor" aria-label="anchor" href="#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88"><i class="fas fa-link"></i></a>
</h3>
<p>R では、ボタンをクリックしてセルをドラッグする代わりに、すべての処理順と処理内容を「スクリプト」に書きます。Excel ユーザーは、スクリプトによって処理する「VBA マクロ」と同じように捉えるとわかりやすいでしょう。</p>
<p><u>R のスクリプトは、段階的な手順で構成されています。</u>これにより、第三者がスクリプトを読んだ際、あなたがどのような手順を実行したか簡単に確認でき、デバッグ（エラーや間違った計算の修正）にも役立ちます。<a href="basics.html#basics">R の基礎</a> の章で説明されている例をご覧ください。</p>
<p>ここでは、Rスクリプトの一例を紹介します。</p>
<div class="inline-figure"><img src="images/example_script.png" width="75%" height="75%" style="display: block; margin: auto;"></div>
</div>
<div id="excel-から-r-への移行に関するリソース" class="section level3 unnumbered">
<h3>
<strong>Excel から R への移行に関するリソース</strong><a class="anchor" aria-label="anchor" href="#excel-%E3%81%8B%E3%82%89-r-%E3%81%B8%E3%81%AE%E7%A7%BB%E8%A1%8C%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9"><i class="fas fa-link"></i></a>
</h3>
<p>以下に、Excel から R へ移行する際に役立つ資料を紹介します。</p>
<ul>
<li>
<a href="https://www.northeastern.edu/graduate/blog/r-vs-excel/">R と Excel の違い</a><br>
</li>
<li><a href="https://rstudio-conf-2020.github.io/r-for-excel/">Excel ユーザー向け、RStudio を使用した R の使い方</a></li>
</ul>
</div>
<div id="r-と-excel-の相互干渉" class="section level3 unnumbered">
<h3>
<strong>R と Excel の相互干渉</strong><a class="anchor" aria-label="anchor" href="#r-%E3%81%A8-excel-%E3%81%AE%E7%9B%B8%E4%BA%92%E5%B9%B2%E6%B8%89"><i class="fas fa-link"></i></a>
</h3>
<p>R には、Excel ブックのインポートおよびデータの操作、Excel ファイルのエクスポートや保存、また Excel シートの操作に十何位対応する方法が複数あります。</p>
<p>イタリック体や補足のためのテキストなど、見た目を美しくする Excel の書式設定の一部は、翻訳時に失われる可能性があります。ワークフローで、元の Excel フォーマットを保持したまま R と Excel の間でドキュメントをやり取りする必要がある場合は、<strong>openxlsx</strong> などのパッケージをお試しください。</p>
</div>
</div>
<div id="stata-からの移行" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> <strong>Stata からの移行</strong><a class="anchor" aria-label="anchor" href="#stata-%E3%81%8B%E3%82%89%E3%81%AE%E7%A7%BB%E8%A1%8C"><i class="fas fa-link"></i></a>
</h2>
<!-- ======================================================= -->
<p><strong>Stata から R へ</strong></p>
<p>多くの疫学者や疫学業務担当者は、最初に Stata の使い方を教わっており、R へ移行するのが難しく感じるかもしれません。しかし、もしあなたが Stata を快適に使用しているのであれば、R への移行はあなたが考えているよりも確実に行いやすいでしょう。Stata と R の間には、データの作成方法と変更方法、および分析機能の実装方法に関していくつか重要な違いがありますが、このような重要な違いを学習すると、あなたの Stata スキルを R で使用できるようになります。</p>
<p>以下に Stata と R の主な違いをいくつか紹介します。</p>
<p><strong>一般的な注意事項</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="48%">
<col width="51%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>一度に表示および操作できるデータセットは 1 つのみ。</td>
<td>複数のデータセットを同時に表示および操作できるため、多くの場合、コード内でデータセットを指定する必要がある。</td>
</tr>
<tr class="even">
<td>利用可能なオンラインコミュニティは、<a href="https://www.statalist.org/" class="uri">https://www.statalist.org/</a>
</td>
<td>利用可能なオンラインコミュニティは、<a href="https://community.rstudio.com/">RStudio</a>,、<a href="https://stackoverflow.com/questions/tagged/r">StackOverFlow</a>、<a href="https://www.r-bloggers.com/">R-bloggers</a>
</td>
</tr>
<tr class="odd">
<td>カーソル＆クリック機能をオプションで提供。</td>
<td>最小限のカーソル＆クリック機能。</td>
</tr>
<tr class="even">
<td>
<code>help [command]</code> コマンドでヘルプが利用できる。</td>
<td>
<code>[function]?</code> コマンドでヘルプが利用でき、ヘルプウィンドウで検索を行える。</td>
</tr>
<tr class="odd">
<td>コードをコメント化する際には、* または /// または /*TEXT*/ を使用する。</td>
<td># を使用してコードをコメント化する。</td>
</tr>
<tr class="even">
<td>ほとんどすべてのコマンドは Stata に組み込まれている。新しい関数やユーザーが作成した関数は、<strong>ssc install</strong> [package] を使用して <strong>ado</strong> ファイルとしてインストールできる。</td>
<td>R は基本的な関数である <strong>base</strong> と一緒にインストールされるが、一般的な使用方法では、CRAN から他のパッケージをインストールする必要がある（<a href="basics.html#basics">R の基礎</a> の章を参照） 。</td>
</tr>
<tr class="odd">
<td>分析用のコードは通常、<strong>do</strong> ファイルに書き込まれる。</td>
<td>分析用のコードは、R Studioの source ペインで R スクリプトに書かれる。R Markdown に書く方法もあり。</td>
</tr>
</tbody>
</table></div>
<p><strong>作業ディレクトリ</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="30%">
<col width="69%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>作業ディレクトリは絶対ファイルパスで表される。（例：“C:/usename/documents/projects/data/”）</td>
<td>作業ディレクトリは、絶対ディレクトリにすることも、<strong>here</strong> パッケージを使用してプロジェクトのルートフォルダからの相対ディレクトリにすることもできる（<a href="importing.html#importing">データのインポート・エクスポート</a> の章を参照）。</td>
</tr>
<tr class="even">
<td>
<strong>pwd</strong> で現在の作業ディレクトリを参照する。</td>
<td>
<code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> または <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code>（<strong>here</strong> パッケージを使用している場合）で参照する。</td>
</tr>
<tr class="odd">
<td>
<strong>cd</strong> “フォルダの場所”で作業ディレクトリを設定する。</td>
<td>
<code>setwd(“フォルダの場所”)</code>、または <code>set_here("フォルダの場所")</code>（ <strong>here</strong> パッケージを使用する場合）で設定する。</td>
</tr>
</tbody>
</table></div>
<p><strong>データのインポートと表示</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="26%">
<col width="73%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>ファイルタイプごとに専用のコマンドがある。</td>
<td>ほとんどの種類のファイルに対して、<strong>rio</strong> パッケージの <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> を使用できる。特定の種類のファイルを扱う代替の関数もある（<a href="importing.html#importing">データのインポート・エクスポート</a> の章を参照）。</td>
</tr>
<tr class="even">
<td>csv ファイルの読み込みは、 <strong>import delimited</strong> “filename.csv” で行う。</td>
<td>
<code>import("filename.csv")</code> を使用。</td>
</tr>
<tr class="odd">
<td>xslxファイルの読み込みは、 <strong>import excel</strong> “filename.xlsx” で行う。</td>
<td>
<code>import("filename.xlsx")</code> を使用。</td>
</tr>
<tr class="even">
<td>
<strong>browse</strong> コマンドを使用して、新しいウィンドウでデータを閲覧できる。</td>
<td>
<code>View(dataset)</code> を使用して、RStudio の soruce ペインでデータセットを表示できる。<u>R は複数のデータセットを同時に保持できるため、<code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> 関数の括弧内でデータセット名を指定する必要がある。また、関数名は大文字「V」で始まることに注意。</u>
</td>
</tr>
<tr class="odd">
<td>変数名と基本情報を提供する <strong>summarize</strong> を使用してデータセットの概要を取得できる。</td>
<td>
<code>summary(dataset)</code> を使用してデータセットの概要を取得できる。</td>
</tr>
</tbody>
</table></div>
<p><strong>基本的なデータ操作</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="28%">
<col width="71%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>データセット列は、多くの場合「変数」と呼ばれる。</td>
<td>より一般的には 「列」 と呼ばれ、場合によっては 「ベクトル」 または 「変数」 と呼ばれます。</td>
</tr>
<tr class="even">
<td>データセットを指定する必要がない。</td>
<td>各コマンドで、データセットを指定する必要がある。例を確認したい場合は、<a href="cleaning.html#cleaning">データクリーニングと主要関数</a> の章を参照してください。</td>
</tr>
<tr class="odd">
<td>新しい変数を作成する場合は、コマンド <strong>generate</strong> <em>varname</em> = を使用する。</td>
<td>関数 <code>mutate(varname = )</code> を使用して新しい変数を作成できる。<strong>dplyr</strong> 関数の詳細は、<a href="cleaning.html#cleaning">データクリーニングと主要関数</a> の章を参照してください。</td>
</tr>
<tr class="even">
<td>変数名を変更する場合は、<strong>rename</strong> <em>old_name new_name</em> を使用する<em>。</em>
</td>
<td>
<code>rename(new_name = old_name)</code> 関数を使用して列の名前を変更できる。</td>
</tr>
<tr class="odd">
<td>変数を削除する場合は、<strong>drop</strong> <em>varname</em> を使用する。</td>
<td>
<code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> でマイナス記号と削除したい列名を括弧内に書き、変数を削除することができる。</td>
</tr>
<tr class="even">
<td>因子型の変数にラベルを付ける場合は、 <strong>label define</strong> などのコマンドを使用する。</td>
<td>値をラベル付けしたい場合は、対象の列を因子型に変換し、レベルを指定する。詳しくは、<a href="factors.html#factors">因子（ファクタ）型データ</a> の章をご参照ください。R では通常、Stata のように列名をラベル付けすることはしません。</td>
</tr>
</tbody>
</table></div>
<p><strong>記述的分析</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="32%">
<col width="67%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>変数のカウントを表示したい場合は、<strong>tab</strong> <em>varname を</em>使用する。</td>
<td>
<code>table(dataset$colname)</code> のように、 <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> にデータセット名と列名を指定する。または、<a href="grouping.html#grouping">データのグループ化</a> の章で説明するように、 <strong>dplyr</strong> パッケージの <code>count(varname)</code> を使用する方法もある。</td>
</tr>
<tr class="even">
<td>2x2 テーブルのような 2 つの変数のクロス集計表の作成には、<strong>tab</strong> <em>varname1 varname2 を</em>使用する。</td>
<td>
<code>table(dataset$varname1, dataset$varname2</code> または <code>count(varname1, varname2)</code> を使用する。</td>
</tr>
</tbody>
</table></div>
<p>上の一覧表では、Stata コマンドを R に変換する概要を説明しましたが、すべてを網羅しているわけではありません。Stata ユーザーが R に移行する上で役立つ資料は他にもたくさんあり、以下にいくつか紹介します。</p>
<ul>
<li>
<a href="https://dss.princeton.edu/training/RStata.pdf" class="uri">https://dss.princeton.edu/training/RStata.pdf</a><br>
</li>
<li>
<a href="https://clanfear.github.io/Stata_R_Equivalency/docs/r_stata_commands.html" class="uri">https://clanfear.github.io/Stata_R_Equivalency/docs/r_stata_commands.html</a><br>
</li>
<li><a href="http://r4stats.com/books/r4stata/" class="uri">http://r4stats.com/books/r4stata/</a></li>
</ul>
</div>
<div id="sas-からの移行" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> SAS からの移行<a class="anchor" aria-label="anchor" href="#sas-%E3%81%8B%E3%82%89%E3%81%AE%E7%A7%BB%E8%A1%8C"><i class="fas fa-link"></i></a>
</h2>
<!-- ======================================================= -->
<p><strong>SASから R への移行</strong></p>
<p>SAS は公衆衛生機関や学術研究分野で一般的に使用されています。新しい言語への移行は簡単ではありませんが、SAS と R の主要な違いを理解することは、すでに習得済みの言語を使用して新しい言語を操作するのに役立ちます。SAS と R の間のデータ管理および記述分析における主な違いについて、概要を以下に示します。</p>
<p><strong>一般的な注意事項</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="52%">
<col width="47%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>利用可能なオンラインコミュニティは、<a href="https://support.sas.com/en/support-home.html">SAS Customer Support</a>
</td>
<td>利用可能なオンラインコミュニティは、<a href="https://community.rstudio.com/">RStudio</a>,、<a href="https://stackoverflow.com/questions/tagged/r">StackOverFlow</a>、<a href="https://www.r-bloggers.com/">R-bloggers</a>
</td>
</tr>
<tr class="even">
<td>
<code>help [command]</code> コマンドでヘルプを利用できる。</td>
<td>
<code>[function]?</code> コマンドでヘルプが利用でき、ヘルプウィンドウで検索を行える。</td>
</tr>
<tr class="odd">
<td>
<code>* TEXT ;</code> または <code>/* TEXT */</code> を使ってコードをコメント化できる。</td>
<td># を使用してコードをコメント化する。</td>
</tr>
<tr class="even">
<td>ほとんどすべてのコマンドは SAS に組み込まれている。ユーザーは、SAS マクロ、 SAS/IML、 SAS Component Language (SCL)、および最近では、プロシージャ <code>Proc Fcmp</code> と <code>Proc Proto</code> を使用して新しい関数を作成できる。</td>
<td>R は基本的な関数である <strong>base</strong> と一緒にインストールされるが、一般的な使用方法では、CRAN から他のパッケージをインストールする必要がある（<a href="basics.html#basics">R の基礎</a> の章を参照） 。</td>
</tr>
<tr class="odd">
<td>分析は通常、Editor ウィンドウで SAS プログラムを書くことで実行される。</td>
<td>分析用のコードは、R Studioの source ペインで R スクリプトに書かれる。R Markdown に書く方法もあり。</td>
</tr>
</tbody>
</table></div>
<p><strong>作業ディレクトリ</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="49%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>作業ディレクトリは、 <code>%let rootdir=/root path; %include “&amp;rootdir/subfoldername/filename”</code> を使用してルートフォルダを定義することで、絶対的またはプロジェクトのルートフォルダからの相対的に指定することができる。</td>
<td>作業ディレクトリは、絶対ディレクトリにすることも、<strong>here</strong> パッケージを使用してプロジェクトのルートフォルダからの相対ディレクトリにすることもできる（<a href="importing.html#importing">データのインポート・エクスポート</a> の章を参照）。</td>
</tr>
<tr class="even">
<td>現在の作業ディレクトリは、<code>%put %sysfunc(getoption(work));</code> で参照できる。</td>
<td>
<code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> または <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code>（<strong>here</strong>パッケージを使用している場合）で参照する。</td>
</tr>
<tr class="odd">
<td>作業ディレクトリは、<code>libname “フォルダ場所”</code> で設定できる。</td>
<td>
<code>setwd(“フォルダの場所”)</code>、または <code>set_here("フォルダの場所")</code>（ <strong>here</strong> パッケージを使用する場合）で設定する。</td>
</tr>
</tbody>
</table></div>
<p><strong>データのインポートと表示</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="48%">
<col width="51%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<code>Proc Import</code> プロシージャを使用するか、 <code>Data Step Infile</code> ステートメントを使用してインポートする。</td>
<td>ほとんどの種類のファイルに対して、<strong>rio</strong> パッケージの <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> を使用できる。特定の種類のファイルを扱う代替の関数もある（<a href="importing.html#importing">データのインポート・エクスポート</a> の章を参照）。</td>
</tr>
<tr class="even">
<td>csv ファイルの読み込みは、 <code>Proc Import datafile=”filename.csv” out=work.filename dbms=CSV; run;</code> または <a href="http://support.sas.com/techsup/technote/ts673.pdf">Data Step Infile statement</a> を使用することで行うことができる。</td>
<td>
<code>import("filename.csv")</code> を使用。</td>
</tr>
<tr class="odd">
<td>xslx ファイルの読み込みは、 <code>Proc Import datafile=”filename.xlsx” out=work.filename dbms=xlsx; run;</code> または <a href="http://support.sas.com/techsup/technote/ts673.pdf">Data Step Infile statement</a> を使用することで行うことができる。</td>
<td>
<code>import("filename.xlsx")</code> を使用。</td>
</tr>
<tr class="even">
<td>データを閲覧する際は、Explorer ウィンドウを開いて、対象のライブラリとデータセットを選択し、新しいウィンドウで閲覧する。</td>
<td>
<code>View(dataset)</code> を使用して、RStudio の soruce ペインでデータセットを表示できる。<u>R は複数のデータセットを同時に保持できるため、<code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> 関数の括弧内でデータセット名を指定する必要がある。また、関数名は大文字「V」で始まることに注意。</u>
</td>
</tr>
</tbody>
</table></div>
<p><strong>基本的なデータ操作</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="44%">
<col width="55%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>データセット列は、多くの場合「変数」と呼ばれる。</td>
<td>より一般的には 「列」 と呼ばれ、場合によっては 「ベクトル」 または 「変数」 と呼ばれます。</td>
</tr>
<tr class="even">
<td>新しい変数を作成する際には、特別な手順は必要なく、新しい変数名、等号、値の式の順に入力する。</td>
<td>関数 <code>mutate(varname = )</code> を使用して新しい変数を作成できる。<strong>dplyr</strong> 関数の詳細は、<a href="cleaning.html#cleaning">データクリーニングと主要関数</a> の章を参照してください。</td>
</tr>
<tr class="odd">
<td>変数名を変更する場合は、<code>rename *old_name=new_name*</code> を使用する。</td>
<td>
<code>rename(new_name = old_name)</code> 関数を使用して列の名前を変更できる。</td>
</tr>
<tr class="even">
<td>変数を保持・選択する場合は、<code>**keep**=varname</code> を使用する。</td>
<td>
<code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> の括弧内に保持したい変数名を書き、変数を選択することができる。</td>
</tr>
<tr class="odd">
<td>変数を削除する場合は、<code>**drop**=varname</code> を使用する。</td>
<td>
<code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> でマイナス記号と削除したい列名を括弧内に書き、変数を削除することができる。</td>
</tr>
<tr class="even">
<td>因子型の変数は、 <code>Label</code> ステートメントを使用して Data Step 内でラベル付けできる。</td>
<td>値をラベル付けしたい場合は、対象の列を因子型に変換し、レベルを指定する。詳しくは、<a href="factors.html#factors">因子（ファクタ）型データ</a> の章をご参照ください。R では通常、Stata のように列名をラベル付けすることはしません。</td>
</tr>
<tr class="odd">
<td>観測値や行は、Data Step の <code>Where</code> または <code>If</code> ステートメントを使用して選択できる。選択条件が複数ある場合は、“and” コマンドで区切る。</td>
<td>
<code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> の括弧内に AND 演算子（<code>&amp;</code>）またはコンマで区切られた複数の選択条件を指定し、観測値や行を選択できる。</td>
</tr>
<tr class="even">
<td>データセットは、Data Step の <code>Merge</code> ステートメントを使用して結合できる。マージするデータセットは、最初に <code>Proc Sort</code> プロシージャを使用して並び替える必要がある。</td>
<td>
<strong>dplyr</strong> パッケージには、データセットをマージするための関数が複数ある。詳細は、<a href="joining-matching.html#joining-matching">データの結合</a> の章を参照ください。</td>
</tr>
</tbody>
</table></div>
<p><strong>記述的分析</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="32%">
<col width="67%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>データセットの概要を確認するには、変数名と記述統計を表示する <code>Proc Summary</code> プロシージャを使用する。</td>
<td>
<strong>skimr</strong> パッケージの <code>summary(dataset)</code> または <code>skim(dataset)</code> を使用してデータセットの概要を取得できる。</td>
</tr>
<tr class="even">
<td>変数のカウントを表にするには、<code>proc freq data=Dataset; Tables varname; Run;</code> を使用する。</td>
<td>
<a href="tables-descriptive.html#tables-descriptive">記述統計表の作り方</a> の章を参照してください。<strong>base</strong> R の <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> や <strong>janitor</strong> パッケージの <code>tabyl()</code> など複数の方法があります。Rは複数のデータセットを保持するため、関数を使用する際はデータセットと列名を指定する必要があることに注意してください。</td>
</tr>
<tr class="odd">
<td>2x2 テーブルのような 2 つの変数のクロス集計表を作成するには、 <code>proc freq data=Dataset; Tables rowvar*colvar; Run;</code> を使用する。</td>
<td>上と同様に、 <code><a href="https://rdrr.io/r/base/table.html">table()</a></code>、 <code>tabyl()</code> または <a href="tables-descriptive.html#tables-descriptive">記述統計表の作り方</a> の章で説明されている方法を使用する。</td>
</tr>
</tbody>
</table></div>
<p><strong>参考資料:</strong></p>
<p><a href="https://www.amazon.com/SAS-SPSS-Users-Statistics-Computing/dp/1461406846/ref=sr_1_1?dchild=1&amp;gclid=EAIaIQobChMIoqLOvf6u7wIVAhLnCh1c9w_DEAMYASAAEgJLIfD_BwE&amp;hvadid=241675955927&amp;hvdev=c&amp;hvlocphy=9032185&amp;hvnetw=g&amp;hvqmt=e&amp;hvrand=16854847287059617468&amp;hvtargid=kwd-44746119007&amp;hydadcr=16374_10302157&amp;keywords=r+for+sas+users&amp;qid=1615698213&amp;sr=8-1">R for SAS and SPSS Users (2011)</a></p>
<p><a href="https://www.amazon.com/SAS-Management-Statistical-Analysis-Graphics-dp-1466584491/dp/1466584491/ref=dp_ob_title_bk">SAS and R, Second Edition (2014)</a></p>
</div>
<div id="データの相互運用性" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> データの相互運用性<a class="anchor" aria-label="anchor" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%9B%B8%E4%BA%92%E9%81%8B%E7%94%A8%E6%80%A7"><i class="fas fa-link"></i></a>
</h2>
<!-- ======================================================= -->
<p>R の <strong>rio</strong> パッケージで STATA .dta ファイル、SAS .xpt および .sas7bdat ファイル、 SPSS .por および .sav などのファイルをインポートまたはエクスポートする方法については、<a href="importing.html#importing">データのインポート・エクスポート</a> の章をご覧ください。</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="basics.html"><span class="header-section-number">3</span> R の基礎</a></div>
<div class="next"><a href="packages-suggested.html"><span class="header-section-number">5</span> 推奨パッケージ</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#transition-to-R"><span class="header-section-number">4</span> Excel・Stata・SASとの比較</a></li>
<li>
<a class="nav-link" href="#excel-%E3%81%8B%E3%82%89%E3%81%AE%E7%A7%BB%E8%A1%8C"><span class="header-section-number">4.1</span> Excel からの移行</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88">メリット</a></li>
<li><a class="nav-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%95%B4%E7%90%86">データの整理</a></li>
<li><a class="nav-link" href="#%E9%96%A2%E6%95%B0">関数</a></li>
<li><a class="nav-link" href="#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88">スクリプト</a></li>
<li><a class="nav-link" href="#excel-%E3%81%8B%E3%82%89-r-%E3%81%B8%E3%81%AE%E7%A7%BB%E8%A1%8C%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9">Excel から R への移行に関するリソース</a></li>
<li><a class="nav-link" href="#r-%E3%81%A8-excel-%E3%81%AE%E7%9B%B8%E4%BA%92%E5%B9%B2%E6%B8%89">R と Excel の相互干渉</a></li>
</ul>
</li>
<li><a class="nav-link" href="#stata-%E3%81%8B%E3%82%89%E3%81%AE%E7%A7%BB%E8%A1%8C"><span class="header-section-number">4.2</span> Stata からの移行</a></li>
<li><a class="nav-link" href="#sas-%E3%81%8B%E3%82%89%E3%81%AE%E7%A7%BB%E8%A1%8C"><span class="header-section-number">4.3</span> SAS からの移行</a></li>
<li><a class="nav-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%9B%B8%E4%BA%92%E9%81%8B%E7%94%A8%E6%80%A7"><span class="header-section-number">4.4</span> データの相互運用性</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>疫学のための R ハンドブック</strong>" was written by the handbook team. It was last built on 2023-01-12.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
